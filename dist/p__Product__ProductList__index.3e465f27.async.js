"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[5402],{40110:function(A,x,a){var O=a(1413),f=a(67294),D=a(509),v=a(91146),I=function(y,h){return f.createElement(v.Z,(0,O.Z)((0,O.Z)({},y),{},{ref:h,icon:D.Z}))};I.displayName="SearchOutlined",x.Z=f.forwardRef(I)},19436:function(A,x,a){var O=a(15009),f=a.n(O),D=a(99289),v=a.n(D),I=a(5574),k=a.n(I),y=a(1848),h=a(71230),i=a(15746),u=a(67294),c=a(85893),_={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},m=function(){var d=(0,u.useState)(_),j=k()(d,2),P=j[0],E=j[1],T=function(){var U=v()(f()().mark(function w(){var n;return f()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,y.Io)();case 2:n=C.sent,n&&n.status===200&&n.data&&E(n.data);case 4:case"end":return C.stop()}},w)}));return function(){return U.apply(this,arguments)}}();return(0,u.useEffect)(function(){T()},[]),(0,c.jsx)(h.Z,{children:(0,c.jsx)(i.Z,{children:(0,c.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(P&&P.name?P.name:"\u65E0\u9879\u76EE")]})})})};x.Z=m},4518:function(A,x){x.Z={w_50:"?x-oss-process=image/resize,w_50,m_lfit",w_100:"?x-oss-process=image/resize,w_100,m_lfit",w_160:"?x-oss-process=image/resize,w_160,m_lfit"}},1223:function(A,x,a){a.r(x),a.d(x,{default:function(){return C}});var O=a(15009),f=a.n(O),D=a(99289),v=a.n(D),I=a(19436),k=a(4518),y=a(67707),h=a(40110),i=a(90930),u=a(14776),c=a(2453),_=a(17788),m=a(96068),o=a(55241),d=a(83622),j=a(71230),P=a(15746),E=a(34041),T=a(78818),U=a(74330),w=a(67294),n=a(85893);function B(){var p=(0,u.useModel)("productList"),N=p.onLoading,R=p.initQueryParams,S=p.pagePagination,F=p.setPagePagination,K=p.pageCurrent,W=p.setPageCurrent,b=p.searchParams,L=p.setSearchParams,z=p.setProductDetail,H=p.shoppingProductInsertFetch,G=p.delProductFetch,Z=p.queryProductAllFetch,$=p.queryProductMainOfferIdFetch,V=p.productList,Q=p.productMainOfferIds,J=function(r){var e=Object.assign({},b,{language:r});L(e)},X=function(r){var e=Object.assign({},b,{offer_id:r});L(e)},Y=function(r){console.log(r),r&&(z(r),u.history.push("/product/productCreateSku?product_main_id=".concat(r.product_main_id,"&product_id=").concat(r.product_id,"&language=").concat(r.language,"&product_sku_option_status=1")))},q=function(){var l=v()(f()().mark(function r(e){return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.googleAccess){s.next=6;break}if(!(e&&e.id)){s.next=4;break}return s.next=4,H(e);case 4:s.next=7;break;case 6:c.ZP.info("\u65E0\u6743\u9650\uFF0C\u540C\u6B65google merchant\u9700\u8981\u9879\u76EE\u7BA1\u7406\u8005\u6743\u9650\u3002");case 7:case"end":return s.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),ee=function(r){_.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684SKU",onOk:function(){var e=v()(f()().mark(function s(){return f()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,G(r);case 2:case"end":return M.stop()}},s)}));function t(){return e.apply(this,arguments)}return t}(),onCancel:function(){console.log("Cancel")}})},ne=function(){var l=v()(f()().mark(function r(e){var t;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return W(e),t=Object.assign({},S,{current:Number(e)}),F(t),g.next=5,Z();case 5:case"end":return g.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),te=function(r){var e=Object.assign({},b,{product_type_id:r});L(e)},ae=function(){var l=v()(f()().mark(function r(){var e;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=Object.assign({},S,{current:1}),F(e),s.next=4,Z();case 4:case"end":return s.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),re=function(){var l=v()(f()().mark(function r(){return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return t.next=4,Z();case 4:return t.next=6,$();case 6:case"end":return t.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),ie=function(){return[{title:"\u552E\u5356\u89C4\u683C",dataIndex:"saleType",key:"saleType"},{title:"\u89C4\u5219\u540D\u79F0",dataIndex:"saleValue",key:"saleValue"},{title:"\u4EF7\u683C",dataIndex:"price",key:"price",render:function(e,t){var s=[];return t&&t.price&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4EF7\u683C: ".concat(t.price," ").concat(t.monetary_unit)},"".concat(t.price,"_price"))):s.push((0,n.jsx)("span",{children:"-"})),t&&t.sale_price&&t.sale_price&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4FC3\u9500: ".concat(t.sale_price," ").concat(t.monetary_unit)},"".concat(t.sale_price,"_salePrice"))):s.push((0,n.jsx)("span",{children:"-"})),t&&t.discount&&t.discount&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u6298\u6263: ".concat(t.discount,"%")},"".concat(t.discount,"_discount"))):s.push((0,n.jsx)("span",{children:"-"})),s}},{title:"\u5E93\u5B58",dataIndex:"availability",key:"availability",width:60,render:function(e,t){return t.availability==="in_stock"?"\u6709":"\u65E0"}}]},se={expandedRowRender:function(r){return(0,n.jsx)(m.Z,{rowKey:function(t){return"".concat(t.id,"_").concat(t.language,"_").concat(t.product_id)},dataSource:r.saleSkus,columns:ie()})}};(0,w.useEffect)(function(){re()},[]);var le=[{title:"\u4E3B\u56FE",dataIndex:"image_link",key:"image_link",fixed:"left",width:60,render:function(r,e){return e&&e.image_link?(0,n.jsx)("img",{src:"".concat(e.image_link).concat(k.Z.w_100),width:50}):"-"}},{title:"\u5546\u54C1\u540D\u79F0",dataIndex:"title",key:"title",fixed:"left",width:120},{title:"\u8D27\u53F7",dataIndex:"offer_id",key:"offer_id",fixed:"left",width:90,render:function(r,e){return(0,n.jsxs)("p",{children:[e.offer_id,(0,n.jsx)("br",{}),e.product_id]})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",width:220,render:function(r,e){if(e&&e.description){var t=y.Z.replaceExceedEnd(e.description,10),s=(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}}),g=y.Z.replaceExceedEnd(e.description,10),M=(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}});return(0,n.jsxs)("div",{className:"table-text clearfix",children:[(0,n.jsx)(o.Z,{content:M,trigger:"click",title:g,children:(0,n.jsxs)(d.ZP,{children:["\u4EAE\u70B9:",g]})}),(0,n.jsx)(o.Z,{content:s,trigger:"click",title:t,children:(0,n.jsxs)(d.ZP,{children:["\u63CF\u8FF0:",t]})})]})}else return"-"}},{title:"GTIN",dataIndex:"gtin",key:"gtin",width:90},{title:"\u94FE\u63A5",dataIndex:"link",key:"link",width:60,render:function(r,e){var t=[];return e.link&&t.push((0,n.jsx)("a",{href:e.link,title:e.link,target:"_blank",rel:"noreferrer",children:"link"},"".concat(e.link,"_link"))),e.mobile_link&&t.push((0,n.jsx)("a",{href:e.mobile_link,title:e.mobile_link,target:"_blank",rel:"noreferrer",children:"mobileLink"},"".concat(e.mobile_link,"_mobileLink"))),!e.link&&!e.mobile_link&&t.push((0,n.jsx)("span",{children:"-"})),t}},{title:"Google\u7C7B\u76EE",dataIndex:"google_product_category",key:"google_product_category",width:110,render:function(r,e){return e.google_product_category&&e.google_product_category.title?e.google_product_category.title:"-"}},{title:"\u5546\u54C1\u5C5E\u6027",dataIndex:"product_detail",key:"product_detail",width:200,render:function(r,e){var t=[];return e.product_detail&&e.product_detail.length&&e.product_detail.map(function(s,g){t.push((0,n.jsxs)("p",{className:"product-attr",children:[(0,n.jsx)("span",{className:"label",children:s.attribute_name})," :"," ",(0,n.jsx)("span",{children:s.attribute_value})]},"".concat(g,"_").concat(s.attribute_name)))}),t}},{title:"\u5546\u54C1\u5C3A\u5BF8",dataIndex:"product_size",key:"product_size",width:200,render:function(r,e){return e.productHeight&&e.productLength&&e.sizeUnit?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"LWH: ".concat(e.productLength,"x").concat(e.productWidth,"x").concat(e.productHeight," ").concat(e.sizeUnit)}),(0,n.jsx)("p",{children:"W: ".concat(e.productWeight," ").concat(e.weightUnit)})]}):"-"}},{title:"\u5C3A\u5BF8",dataIndex:"size",key:"size",width:200,render:function(r,e){return e.size&&e.size_type&&e.size_system?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5C3A\u5BF8: ".concat(e.size)}),(0,n.jsx)("p",{children:"\u5C3A\u7801\u7C7B\u578B: ".concat(e.size_type," \u5C3A\u7801\u4F53\u7CFB: ").concat(e.size_system)})]}):"-"}},{title:"\u8BED\u8A00",dataIndex:"language",key:"language",width:90},{title:"\u9002\u7528\u4EBA\u7FA4",dataIndex:"age_group",key:"age_group",width:120,render:function(r,e){return e.age_group&&e.gender?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5E74\u9F84: ".concat(e.age_group)}),(0,n.jsx)("p",{children:"\u6027\u522B: ".concat(e.gender)})]}):"-"}},{title:"\u8BE6\u60C5\u56FE",dataIndex:"lifestyle_image_link",key:"lifestyle_image_link",width:190,render:function(r,e){var t=[];return e&&y.Z.isArray(e.lifestyle_image_link)&&e.lifestyle_image_link.length>0&&e.lifestyle_image_link.map(function(s,g){t.push((0,n.jsx)("img",{src:"".concat(s).concat(k.Z.w_50),width:30},"".concat(g,"_").concat(s)))}),t}},{title:"\u9644\u52A0\u56FE\u7247",dataIndex:"additional_image_link",key:"additional_image_link",width:200,render:function(r,e){var t=[];return e&&y.Z.isArray(e.additional_image_link)&&e.additional_image_link.length&&e.additional_image_link.map(function(s,g){t.push((0,n.jsx)("img",{src:"".concat(s).concat(k.Z.w_50),width:50},"".concat(g,"_").concat(s)))}),t}},{title:"\u64CD\u4F5C",key:"operate",fixed:"right",width:160,render:function(r,e){return(0,n.jsxs)("div",{className:"operate",children:[(0,n.jsx)("a",{className:"tx",rel:"noreferrer",target:"_blank",href:"https://www.limeetpet.com/detail/".concat(e.language,"/").concat(e.id,"/").concat(e.product_id),children:"\u8BE6\u60C5"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){Y(e)},children:"\u7F16\u8F91"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){ee(e)},children:"\u5220\u9664"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){q({id:e.id,language:e.language,googleAccess:e.googleAccess})},children:e.merchant_status>0?"\u66F4\u65B0Merchant":"\u540C\u6B65Merchant"})]})}}];return(0,n.jsxs)(i._z,{children:[(0,n.jsx)("div",{className:"page",children:(0,n.jsxs)("div",{className:"product-list",children:[(0,n.jsx)(I.Z,{}),(0,n.jsx)("div",{className:"header",children:(0,n.jsxs)(j.Z,{children:[(0,n.jsx)(P.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u9009\u62E9\u8BED\u8A00:"}),(0,n.jsx)(E.Z,{defaultValue:b.language,value:b.language,style:{width:120},onChange:J,options:b.languageOption})]})}),(0,n.jsx)(P.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u81EA\u5B9A\u5206\u7C7B:"}),(0,n.jsx)(E.Z,{value:b.product_type_id,style:{width:150},onChange:te,options:b.productTypeOption})]})}),(0,n.jsx)(P.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u5546\u54C1\u8D27\u53F7:"}),(0,n.jsx)(E.Z,{value:b.offer_id,style:{width:150},onChange:X,options:Q})]})}),(0,n.jsx)(P.Z,{span:6,children:(0,n.jsx)("div",{className:"form-item",children:(0,n.jsx)(d.ZP,{type:"primary",icon:(0,n.jsx)(h.Z,{}),onClick:ae,style:{width:200},children:"\u641C\u7D22"})})})]})}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)(m.Z,{rowKey:function(r){return"".concat(r.id,"_").concat(r.language,"_").concat(r.title)},dataSource:V,columns:le,scroll:{x:1300},size:"small",expandable:se,pagination:!1}),(0,n.jsx)(T.Z,{align:"end",total:S.total,pageSize:S.pageSize,current:K,onChange:ne})]}),(0,n.jsx)("div",{className:"footer"})]})}),(0,n.jsx)(U.Z,{size:"large",spinning:N,fullscreen:!0})]})}var C=B},67707:function(A,x,a){var O=a(9783),f=a.n(O),D=a(52677),v=a.n(D),I=a(5574),k=a.n(I),y=f()(f()({isEmptyObject:function(i){var u;for(u in i)if(i[u])return!1;return!0},trim:function(i){return i.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(i){return i&&Object.prototype.toString.call(i)==="[object Array]"},replaceExceedEnd:function(i){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",_=0,m,o=i.replace(/<[^>]+>/g,""),d=0;d<o.length;d++){var j=o.charCodeAt(d);if(j>=19968&&j<=40959?_+=2:_+=1,_>u){m=d;break}}return m&&(o="".concat(o.slice(0,m),"...")),o},uuid:function(){for(var i=[],u="0123456789abcdef",c=0;c<36;c++)i[c]=u.substr(Math.floor(Math.random()*16),1);i[14]="4",i[19]=u.substr(i[19]&3|8,1),i[8]=i[13]=i[18]=i[23]="-";var _=i.join("");return _},objectToString:function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!i)return!1;var c=u||"&",_="";return Object.keys(i).forEach(function(m,o){_+="".concat(o===0?"":c).concat(m,"=").concat(i[m])}),_},formatPrice:function(i){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof i!="number"||Number.isNaN(i))return"\uFFE50.00";var c=parseInt(i,10);if(u===0)return"\uFFE5".concat(Math.floor(c/100));var _=c/100,m=Math.round(_*100)/100,o=m.toString(),d=o.indexOf(".");return d<0&&(d=o.length,o+="."),o.length<=d+parseInt(u,10)&&(o+="00"),"\uFFE5".concat(o)},getSearchObject:function(i){i=i||window.location.search;for(var u=i.replace("?","").split("&"),c={},_=0;_<u.length;_++){var m=u[_].split("="),o=k()(m,2),d=o[0],j=o[1];c[d]||(c[d]=j)}return c},formatDete:function(i){var u=new Date(i),c=u.toLocaleString(),_=String(u),m=c.split(" "),o="",d=m[0].split("/");d=d.map(function(E){return E<10&&(E="0".concat(E)),E});var j=d.join("-"),P=_.split(" ")[4];return o="".concat(j,"   ").concat(P),o}},"isArray",function(i){return Object.prototype.toString.call(i)==="[object Array]"}),"isNonEmptyObject",function(i){return i!==null&&v()(i)==="object"&&!Array.isArray(i)&&Object.keys(i).length>0});x.Z=y}}]);
