"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[5402],{19436:function(L,y,i){var C=i(15009),h=i.n(C),D=i(99289),v=i.n(D),A=i(5574),b=i.n(A),I=i(1848),_=i(71230),t=i(15746),u=i(67294),c=i(85893),d={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},m=function(){var f=(0,u.useState)(d),P=b()(f,2),E=P[0],j=P[1],U=function(){var w=v()(h()().mark(function M(){var O;return h()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,I.Io)();case 2:O=k.sent,O&&O.status===200&&O.data&&j(O.data);case 4:case"end":return k.stop()}},M)}));return function(){return w.apply(this,arguments)}}();return(0,u.useEffect)(function(){U()},[]),(0,c.jsx)(_.Z,{children:(0,c.jsx)(t.Z,{children:(0,c.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(E&&E.name?E.name:"\u65E0\u9879\u76EE")]})})})};y.Z=m},4518:function(L,y){y.Z={w_50:"?x-oss-process=image/resize,w_50,m_lfit",w_100:"?x-oss-process=image/resize,w_100,m_lfit",w_160:"?x-oss-process=image/resize,w_160,m_lfit"}},5348:function(L,y,i){i.r(y),i.d(y,{default:function(){return z}});var C=i(15009),h=i.n(C),D=i(99289),v=i.n(D),A=i(19436),b=i(4518),I=i(67707),_=i(1413),t=i(67294),u=i(509),c=i(91146),d=function(N,Z){return t.createElement(c.Z,(0,_.Z)((0,_.Z)({},N),{},{ref:Z,icon:u.Z}))};d.displayName="SearchOutlined";var m=t.forwardRef(d),o=i(90930),f=i(14776),P=i(2453),E=i(17788),j=i(96068),U=i(71230),w=i(15746),M=i(34041),O=i(83622),R=i(78818),k=i(74330),n=i(85893);function K(){var g=(0,f.useModel)("productList"),N=g.onLoading,Z=g.initQueryParams,S=g.pagePagination,W=g.setPagePagination,H=g.pageCurrent,G=g.setPageCurrent,x=g.searchParams,B=g.setSearchParams,$=g.setProductDetail,V=g.shoppingProductInsertFetch,Q=g.delProductFetch,F=g.queryProductAllFetch,X=g.queryProductMainOfferIdFetch,J=g.productList,Y=g.productMainOfferIds,q=function(r){var e=Object.assign({},x,{language:r});B(e)},ee=function(r){var e=Object.assign({},x,{offer_id:r});B(e)},ne=function(r){console.log(r),r&&($(r),f.history.push("/product/productCreateSku?product_main_id=".concat(r.product_main_id,"&product_id=").concat(r.product_id,"&language=").concat(r.language,"&product_sku_option_status=1")))},te=function(){var l=v()(h()().mark(function r(e){return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.googleAccess){s.next=6;break}if(!(e&&e.id)){s.next=4;break}return s.next=4,V(e);case 4:s.next=7;break;case 6:P.ZP.info("\u65E0\u6743\u9650\uFF0C\u540C\u6B65google merchant\u9700\u8981\u9879\u76EE\u7BA1\u7406\u8005\u6743\u9650\u3002");case 7:case"end":return s.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),ae=function(r){E.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684SKU",onOk:function(){var e=v()(h()().mark(function s(){return h()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Q(r);case 2:case"end":return T.stop()}},s)}));function a(){return e.apply(this,arguments)}return a}(),onCancel:function(){console.log("Cancel")}})},re=function(){var l=v()(h()().mark(function r(e){var a;return h()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return G(e),a=Object.assign({},S,{current:Number(e)}),W(a),p.next=5,F();case 5:case"end":return p.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),ie=function(r){var e=Object.assign({},x,{product_type_id:r});B(e)},se=function(){var l=v()(h()().mark(function r(){var e;return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=Object.assign({},S,{current:1}),W(e),s.next=4,F();case 4:case"end":return s.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),le=function(){var l=v()(h()().mark(function r(){return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Z();case 2:return a.next=4,F();case 4:return a.next=6,X();case 6:case"end":return a.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),ue=function(){return[{title:"\u552E\u5356\u89C4\u683C",dataIndex:"saleType",key:"saleType"},{title:"\u89C4\u5219\u540D\u79F0",dataIndex:"saleValue",key:"saleValue"},{title:"\u4EF7\u683C",dataIndex:"price",key:"price",render:function(e,a){var s=[];return a&&a.price&&a.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4EF7\u683C: ".concat(a.price," ").concat(a.monetary_unit)},"".concat(a.price,"_price"))):s.push((0,n.jsx)("span",{children:"-"})),a&&a.sale_price&&a.sale_price&&a.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4FC3\u9500: ".concat(a.sale_price," ").concat(a.monetary_unit)},"".concat(a.sale_price,"_salePrice"))):s.push((0,n.jsx)("span",{children:"-"})),a&&a.discount&&a.discount&&a.monetary_unit?s.push((0,n.jsx)("span",{children:"\u6298\u6263: ".concat(a.discount,"%")},"".concat(a.discount,"_discount"))):s.push((0,n.jsx)("span",{children:"-"})),s}},{title:"\u5E93\u5B58",dataIndex:"availability",key:"availability",width:60,render:function(e,a){return a.availability==="in_stock"?"\u6709":"\u65E0"}}]},oe={expandedRowRender:function(r){return(0,n.jsx)(j.Z,{rowKey:function(a){return"".concat(a.id,"_").concat(a.language,"_").concat(a.product_id)},dataSource:r.saleSkus,columns:ue()})}};(0,t.useEffect)(function(){le()},[]);var ce=[{title:"\u4E3B\u56FE",dataIndex:"image_link",key:"image_link",fixed:"left",width:60,render:function(r,e){return e&&e.image_link?(0,n.jsx)("img",{src:"".concat(e.image_link).concat(b.Z.w_100),width:50}):"-"}},{title:"\u5546\u54C1\u540D\u79F0",dataIndex:"title",key:"title",fixed:"left",width:120},{title:"\u8D27\u53F7",dataIndex:"offer_id",key:"offer_id",fixed:"left",width:90,render:function(r,e){return(0,n.jsxs)("p",{children:[e.offer_id,(0,n.jsx)("br",{}),e.product_id]})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",width:220,render:function(r,e){return e&&e.description?(0,n.jsx)("div",{className:"table-text clearfix",dangerouslySetInnerHTML:{__html:e.description?e.description:""}}):"-"}},{title:"GTIN",dataIndex:"gtin",key:"gtin",width:90},{title:"\u94FE\u63A5",dataIndex:"link",key:"link",width:60,render:function(r,e){var a=[];return e.link&&a.push((0,n.jsx)("a",{href:e.link,title:e.link,target:"_blank",rel:"noreferrer",children:"link"},"".concat(e.link,"_link"))),e.mobile_link&&a.push((0,n.jsx)("a",{href:e.mobile_link,title:e.mobile_link,target:"_blank",rel:"noreferrer",children:"mobileLink"},"".concat(e.mobile_link,"_mobileLink"))),!e.link&&!e.mobile_link&&a.push((0,n.jsx)("span",{children:"-"})),a}},{title:"Google\u7C7B\u76EE",dataIndex:"google_product_category",key:"google_product_category",width:110,render:function(r,e){return e.google_product_category&&e.google_product_category.title?e.google_product_category.title:"-"}},{title:"\u9644\u52A0\u56FE\u7247",dataIndex:"additional_image_link",key:"additional_image_link",width:200,render:function(r,e){var a=[];return e&&I.Z.isArray(e.additional_image_link)&&e.additional_image_link.length&&e.additional_image_link.map(function(s,p){a.push((0,n.jsx)("img",{src:"".concat(s).concat(b.Z.w_50),width:50},"".concat(p,"_").concat(s)))}),a}},{title:"\u8BE6\u60C5\u56FE",dataIndex:"lifestyle_image_link",key:"lifestyle_image_link",width:190,render:function(r,e){var a=[];return e&&I.Z.isArray(e.lifestyle_image_link)&&e.lifestyle_image_link.length>0&&e.lifestyle_image_link.map(function(s,p){a.push((0,n.jsx)("img",{src:"".concat(s).concat(b.Z.w_50),width:30},"".concat(p,"_").concat(s)))}),a}},{title:"\u5C3A\u5BF8",dataIndex:"size",key:"size",width:200,render:function(r,e){return e.size&&e.size_type&&e.size_system?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5C3A\u5BF8: ".concat(e.size)}),(0,n.jsx)("p",{children:"\u5C3A\u7801\u7C7B\u578B: ".concat(e.size_type," \u5C3A\u7801\u4F53\u7CFB: ").concat(e.size_system)})]}):"-"}},{title:"\u5546\u54C1\u5C3A\u5BF8",dataIndex:"product_size",key:"product_size",width:200,render:function(r,e){return e.productHeight&&e.productLength&&e.sizeUnit?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"LWH: ".concat(e.productLength,"x").concat(e.productWidth,"x").concat(e.productHeight," ").concat(e.sizeUnit)}),(0,n.jsx)("p",{children:"W: ".concat(e.productWeight," ").concat(e.weightUnit)})]}):"-"}},{title:"\u9002\u7528\u4EBA\u7FA4",dataIndex:"age_group",key:"age_group",width:120,render:function(r,e){return e.age_group&&e.gender?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5E74\u9F84: ".concat(e.age_group)}),(0,n.jsx)("p",{children:"\u6027\u522B: ".concat(e.gender)})]}):"-"}},{title:"\u5546\u54C1\u5C5E\u6027",dataIndex:"product_detail",key:"product_detail",width:200,render:function(r,e){var a=[];return e.product_detail&&e.product_detail.length&&e.product_detail.map(function(s,p){a.push((0,n.jsxs)("p",{className:"product-attr",children:[(0,n.jsx)("span",{className:"label",children:s.attribute_name})," :"," ",(0,n.jsx)("span",{children:s.attribute_value})]},"".concat(p,"_").concat(s.attribute_name)))}),a}},{title:"\u4EAE\u70B9",dataIndex:"product_highlight",key:"product_highlight",ellipsis:!0,width:200,render:function(r,e){return(0,n.jsx)("span",{className:"table-text clearfix",dangerouslySetInnerHTML:{__html:e.product_highlight}})}},{title:"\u8BED\u8A00",dataIndex:"language",key:"language",width:90},{title:"\u64CD\u4F5C",key:"operate",fixed:"right",width:160,render:function(r,e){return(0,n.jsxs)("div",{className:"operate",children:[(0,n.jsx)("a",{className:"tx",rel:"noreferrer",target:"_blank",href:"https://www.limeetpet.com/detail/".concat(e.language,"/").concat(e.id,"/").concat(e.product_id),children:"\u8BE6\u60C5"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){ne(e)},children:"\u7F16\u8F91"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){ae(e)},children:"\u5220\u9664"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){te({id:e.id,language:e.language,googleAccess:e.googleAccess})},children:e.merchant_status>0?"\u66F4\u65B0Merchant":"\u540C\u6B65Merchant"})]})}}];return(0,n.jsxs)(o._z,{children:[(0,n.jsx)("div",{className:"page",children:(0,n.jsxs)("div",{className:"product-list",children:[(0,n.jsx)(A.Z,{}),(0,n.jsx)("div",{className:"header",children:(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(w.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u9009\u62E9\u8BED\u8A00:"}),(0,n.jsx)(M.Z,{defaultValue:x.language,value:x.language,style:{width:120},onChange:q,options:x.languageOption})]})}),(0,n.jsx)(w.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u81EA\u5B9A\u5206\u7C7B:"}),(0,n.jsx)(M.Z,{value:x.product_type_id,style:{width:150},onChange:ie,options:x.productTypeOption})]})}),(0,n.jsx)(w.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u5546\u54C1\u8D27\u53F7:"}),(0,n.jsx)(M.Z,{value:x.offer_id,style:{width:150},onChange:ee,options:Y})]})}),(0,n.jsx)(w.Z,{span:6,children:(0,n.jsx)("div",{className:"form-item",children:(0,n.jsx)(O.ZP,{type:"primary",icon:(0,n.jsx)(m,{}),onClick:se,style:{width:200},children:"\u641C\u7D22"})})})]})}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)(j.Z,{rowKey:function(r){return"".concat(r.id,"_").concat(r.language,"_").concat(r.title)},dataSource:J,columns:ce,scroll:{x:1300},size:"small",expandable:oe,pagination:!1}),(0,n.jsx)(R.Z,{align:"end",total:S.total,pageSize:S.pageSize,current:H,onChange:re})]}),(0,n.jsx)("div",{className:"footer"})]})}),(0,n.jsx)(k.Z,{size:"large",spinning:N,fullscreen:!0})]})}var z=K},67707:function(L,y,i){var C=i(9783),h=i.n(C),D=i(52677),v=i.n(D),A=i(5574),b=i.n(A),I=h()(h()({isEmptyObject:function(t){var u;for(u in t)if(t[u])return!1;return!0},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(t){return t&&Object.prototype.toString.call(t)==="[object Array]"},replaceExceedEnd:function(t){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",d=0,m,o=0;o<(t&&t.length);o++){var f=t.charCodeAt(o);if(f>=19968&&f<=40959?d+=2:d+=1,d>u){m=o;break}}return m&&(t="".concat(t.slice(0,m),"...")),t},uuid:function(){for(var t=[],u="0123456789abcdef",c=0;c<36;c++)t[c]=u.substr(Math.floor(Math.random()*16),1);t[14]="4",t[19]=u.substr(t[19]&3|8,1),t[8]=t[13]=t[18]=t[23]="-";var d=t.join("");return d},objectToString:function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!t)return!1;var c=u||"&",d="";return Object.keys(t).forEach(function(m,o){d+="".concat(o===0?"":c).concat(m,"=").concat(t[m])}),d},checkPhone:function(t){return!!/^1[34578]\d{9}$/.test(t)},formatPrice:function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof t!="number"||Number.isNaN(t))return"\uFFE50.00";var c=parseInt(t,10);if(u===0)return"\uFFE5".concat(Math.floor(c/100));var d=c/100,m=Math.round(d*100)/100,o=m.toString(),f=o.indexOf(".");return f<0&&(f=o.length,o+="."),o.length<=f+parseInt(u,10)&&(o+="00"),"\uFFE5".concat(o)},isWeiXin:function(){var t=window.navigator.userAgent.toLowerCase();return t.match(/MicroMessenger/i)=="micromessenger"},isMobile:function(){var t=navigator.userAgent;return!!(t.match(/AppleWebKit.*Mobile.*/)||t.indexOf("iPad")>-1)},getSearchObject:function(t){t=t||window.location.search;for(var u=t.replace("?","").split("&"),c={},d=0;d<u.length;d++){var m=u[d].split("="),o=b()(m,2),f=o[0],P=o[1];c[f]||(c[f]=P)}return c},formatDete:function(t){var u=new Date(t),c=u.toLocaleString(),d=String(u),m=c.split(" "),o="",f=m[0].split("/");f=f.map(function(j){return j<10&&(j="0".concat(j)),j});var P=f.join("-"),E=d.split(" ")[4];return o="".concat(P,"   ").concat(E),o}},"isArray",function(t){return Object.prototype.toString.call(t)==="[object Array]"}),"isNonEmptyObject",function(t){return t!==null&&v()(t)==="object"&&!Array.isArray(t)&&Object.keys(t).length>0});y.Z=I}}]);
