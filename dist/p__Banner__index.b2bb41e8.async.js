"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[4137],{49495:function(Q,T){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};T.Z=e},82061:function(Q,T,e){var v=e(1413),n=e(67294),h=e(47046),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="DeleteOutlined",T.Z=n.forwardRef(g)},69753:function(Q,T,e){var v=e(1413),n=e(67294),h=e(49495),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="DownloadOutlined",T.Z=n.forwardRef(g)},54734:function(Q,T,e){var v=e(1413),n=e(67294),h=e(48898),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="FolderOpenOutlined",T.Z=n.forwardRef(g)},68658:function(Q,T,e){var v=e(1413),n=e(67294),h=e(70478),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="MinusSquareOutlined",T.Z=n.forwardRef(g)},51042:function(Q,T,e){var v=e(1413),n=e(67294),h=e(42110),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="PlusOutlined",T.Z=n.forwardRef(g)},30723:function(Q,T,e){var v=e(1413),n=e(67294),h=e(43114),d=e(91146),g=function(Z,f){return n.createElement(d.Z,(0,v.Z)((0,v.Z)({},Z),{},{ref:f,icon:h.Z}))};g.displayName="PlusSquareOutlined",T.Z=n.forwardRef(g)},5966:function(Q,T,e){var v=e(97685),n=e(1413),h=e(91),d=e(21770),g=e(59586),E=e(55241),Z=e(97435),f=e(67294),r=e(68468),u=e(85893),i=["fieldProps","proFieldProps"],m=["fieldProps","proFieldProps"],F="text",C=function(M){var _=M.fieldProps,y=M.proFieldProps,k=(0,h.Z)(M,i);return(0,u.jsx)(r.Z,(0,n.Z)({valueType:F,fieldProps:_,filedConfig:{valueType:F},proFieldProps:y},k))},A=function(M){var _=(0,d.Z)(M.open||!1,{value:M.open,onChange:M.onOpenChange}),y=(0,v.Z)(_,2),k=y[0],le=y[1];return(0,u.jsx)(g.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var te,oe=b.getFieldValue(M.name||[]);return(0,u.jsx)(E.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(L){return L&&L.parentNode?L.parentNode:L},onOpenChange:function(L){return le(L)},content:(0,u.jsxs)("div",{style:{padding:"4px 0"},children:[(te=M.statusRender)===null||te===void 0?void 0:te.call(M,oe),M.strengthText?(0,u.jsx)("div",{style:{marginTop:10},children:(0,u.jsx)("span",{children:M.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},M.popoverProps),{},{open:k,children:M.children}))}})},V=function(M){var _=M.fieldProps,y=M.proFieldProps,k=(0,h.Z)(M,m),le=(0,f.useState)(!1),$=(0,v.Z)(le,2),b=$[0],te=$[1];return _!=null&&_.statusRender&&k.name?(0,u.jsx)(A,{name:k.name,statusRender:_==null?void 0:_.statusRender,popoverProps:_==null?void 0:_.popoverProps,strengthText:_==null?void 0:_.strengthText,open:b,onOpenChange:te,children:(0,u.jsx)("div",{children:(0,u.jsx)(r.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,Z.Z)(_,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(a){var L;_==null||(L=_.onBlur)===null||L===void 0||L.call(_,a),te(!1)},onClick:function(a){var L;_==null||(L=_.onClick)===null||L===void 0||L.call(_,a),te(!0)}}),proFieldProps:y,filedConfig:{valueType:F}},k))})}):(0,u.jsx)(r.Z,(0,n.Z)({valueType:"password",fieldProps:_,proFieldProps:y,filedConfig:{valueType:F}},k))},Y=C;Y.Password=V,Y.displayName="ProFormComponent",T.Z=Y},92615:function(Q,T,e){var v=e(9783),n=e.n(v),h=e(52677),d=e.n(h),g=e(5574),E=e.n(g),Z=n()(n()({isEmptyObject:function(r){var u;for(u in r)if(r[u])return!1;return!0},trim:function(r){return r.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(r){return r&&Object.prototype.toString.call(r)==="[object Array]"},replaceExceedEnd:function(r){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",m=0,F,C=r.replace(/<[^>]+>/g,""),A=0;A<(C&&C.length);A++){var V=C.charCodeAt(A);if(V>=19968&&V<=40959?m+=2:m+=1,m>u){F=A;break}}return F&&(C="".concat(C.slice(0,F),"...")),C},uuid:function(){for(var r=[],u="0123456789abcdef",i=0;i<36;i++)r[i]=u.substr(Math.floor(Math.random()*16),1);r[14]="4",r[19]=u.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="-";var m=r.join("");return m},objectToString:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!r)return!1;var i=u||"&",m="";return Object.keys(r).forEach(function(F,C){m+="".concat(C===0?"":i).concat(F,"=").concat(r[F])}),m},formatPrice:function(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof r!="number"||Number.isNaN(r))return"\uFFE50.00";var i=parseInt(r,10);if(u===0)return"\uFFE5".concat(Math.floor(i/100));var m=i/100,F=Math.round(m*100)/100,C=F.toString(),A=C.indexOf(".");return A<0&&(A=C.length,C+="."),C.length<=A+parseInt(u,10)&&(C+="00"),"\uFFE5".concat(C)},getSearchObject:function(r){r=r||window.location.search;for(var u=r.replace("?","").split("&"),i={},m=0;m<u.length;m++){var F=u[m].split("="),C=E()(F,2),A=C[0],V=C[1];i[A]||(i[A]=V)}return i},formatDete:function(r){var u=new Date(r),i=u.toLocaleString(),m=String(u),F=i.split(" "),C="",A=F[0].split("/");A=A.map(function(X){return X<10&&(X="0".concat(X)),X});var V=A.join("-"),Y=m.split(" ")[4];return C="".concat(V,"   ").concat(Y),C}},"isArray",function(r){return Object.prototype.toString.call(r)==="[object Array]"}),"isNonEmptyObject",function(r){return r!==null&&d()(r)==="object"&&!Array.isArray(r)&&Object.keys(r).length>0});T.Z=Z},19436:function(Q,T,e){var v=e(15009),n=e.n(v),h=e(99289),d=e.n(h),g=e(5574),E=e.n(g),Z=e(1848),f=e(71230),r=e(15746),u=e(67294),i=e(85893),m={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},F=function(){var A=(0,u.useState)(m),V=E()(A,2),Y=V[0],X=V[1],M=function(){var _=d()(n()().mark(function y(){var k;return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,Z.Io)();case 2:k=$.sent,k&&k.status===200&&k.data&&X(k.data);case 4:case"end":return $.stop()}},y)}));return function(){return _.apply(this,arguments)}}();return(0,u.useEffect)(function(){M()},[]),(0,i.jsx)(f.Z,{children:(0,i.jsx)(r.Z,{children:(0,i.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(Y&&Y.name?Y.name:"\u65E0\u9879\u76EE")]})})})};T.Z=F},50143:function(Q,T,e){e.r(T),e.d(T,{default:function(){return ma}});var v=e(15009),n=e.n(v),h=e(99289),d=e.n(h),g=e(5574),E=e.n(g),Z=e(19436),f={setChannel:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"}],getTableChannel:{all:{text:"\u6240\u6709",status:"all"},limeetpet:{text:"limeetpet",status:"limeetpet"},community:{text:"community",status:"community"}}},r={setType:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}],getTableType:{all:{text:"\u6240\u6709",status:"all"},home:{text:"home",status:"home"},list:{text:"list",status:"list"},product:{text:"product",status:"product"},detail:{text:"detail",status:"detail"},other:{text:"other",status:"other"}}},u=e(14776),i=function(){var p=d()(n()().mark(function o(x){return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,u.request)("/api/banner/create",{method:"POST",data:x,config:{isToast:!0}}));case 1:case"end":return P.stop()}},o)}));return function(x){return p.apply(this,arguments)}}(),m=function(){var p=d()(n()().mark(function o(x){return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,u.request)("/api/banner/edit",{method:"POST",data:x}));case 1:case"end":return P.stop()}},o)}));return function(x){return p.apply(this,arguments)}}(),F=function(){var p=d()(n()().mark(function o(x){return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,u.request)("/api/banner/del",{method:"POST",data:x}));case 1:case"end":return P.stop()}},o)}));return function(x){return p.apply(this,arguments)}}(),C=function(){var p=d()(n()().mark(function o(x){return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,u.request)("/api/banner/query",{method:"POST",data:x}));case 1:case"end":return P.stop()}},o)}));return function(x){return p.apply(this,arguments)}}(),A=e(51042),V=e(90930),Y=e(87273),X=e(37476),M=e(34994),_=e(5966),y=e(1413),k=e(91),le=e(22270),$=e(78045),b=e(67294),te=e(90789),oe=e(68468),a=e(85893),L=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],He=b.forwardRef(function(p,o){var x=p.fieldProps,N=p.options,P=p.radioType,ne=p.layout,G=p.proFieldProps,re=p.valueEnum,w=(0,k.Z)(p,L);return(0,a.jsx)(oe.Z,(0,y.Z)((0,y.Z)({valueType:P==="button"?"radioButton":"radio",ref:o,valueEnum:(0,le.h)(re,void 0)},w),{},{fieldProps:(0,y.Z)({options:N,layout:ne},x),proFieldProps:G,filedConfig:{customLightMode:!0}}))}),Ve=b.forwardRef(function(p,o){var x=p.fieldProps,N=p.children;return(0,a.jsx)($.ZP,(0,y.Z)((0,y.Z)({},x),{},{ref:o,children:N}))}),$e=(0,te.G)(Ve,{valuePropName:"checked",ignoreWidth:!0}),je=$e;je.Group=He,je.Button=$.ZP.Button,je.displayName="ProFormComponent";var Ge=je,Ie=e(66758),ze=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Je=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],Qe=function(o,x){var N=o.fieldProps,P=o.children,ne=o.params,G=o.proFieldProps,re=o.mode,w=o.valueEnum,U=o.request,ee=o.showSearch,ie=o.options,ae=(0,k.Z)(o,ze),W=(0,b.useContext)(Ie.Z);return(0,a.jsx)(oe.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,le.h)(w),request:U,params:ne,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:ie,mode:re,showSearch:ee,getPopupContainer:W.getPopupContainer},N),ref:x,proFieldProps:G},ae),{},{children:P}))},Ye=b.forwardRef(function(p,o){var x=p.fieldProps,N=p.children,P=p.params,ne=p.proFieldProps,G=p.mode,re=p.valueEnum,w=p.request,U=p.options,ee=(0,k.Z)(p,Je),ie=(0,y.Z)({options:U,mode:G||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},x),ae=(0,b.useContext)(Ie.Z);return(0,a.jsx)(oe.Z,(0,y.Z)((0,y.Z)({valueEnum:(0,le.h)(re),request:w,params:P,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:ae.getPopupContainer},ie),ref:o,proFieldProps:ne},ee),{},{children:N}))}),Xe=b.forwardRef(Qe),qe=Ye,Te=Xe;Te.SearchSelect=qe,Te.displayName="ProFormComponent";var Ze=Te,ea=e(59586),_e=e(2453),ye=e(17788),Le=e(83622),aa={image_link:{des:"\u9009\u62E9\u5546\u54C1\u4E3B\u56FE\uFF08\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},additionalImageLinks:{des:"\u5546\u54C1\u9644\u52A0\u56FE\u7247\uFF08\u9009\u62E95\u5F20\u56FE\u7247\uFF09",limit:5},lifestyleImageLinks:{des:"\u6DFB\u52A0\u5546\u54C1\u8BE6\u60C5\uFF08\u6700\u591A\u9009\u62E920\u5F20\u56FE\u7247\uFF09",limit:20},banner:{des:"\u6DFB\u52A0\u5E7F\u544A\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},other:{des:"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1}},be=e(55195),ta=e(38057),he=e(92615),Ee=e(68658),Pe=e(30723),na=e(82061),ra=e(10952),Ue=e(91146),Ne=function(o,x){return b.createElement(Ue.Z,(0,y.Z)((0,y.Z)({},o),{},{ref:x,icon:ra.Z}))};Ne.displayName="RotateRightOutlined";var la=b.forwardRef(Ne),sa=e(39055),we=function(o,x){return b.createElement(Ue.Z,(0,y.Z)((0,y.Z)({},o),{},{ref:x,icon:sa.Z}))};we.displayName="SwapOutlined";var ua=b.forwardRef(we),oa=e(69753),ia=e(54734),ca=e(79607),da=e(71230),We=e(15746),fa=function(o){var x=o.open,N=o.selectedType,P=o.callbackOk,ne=o.callbackCancel,G=aa[N],re=(0,b.useState)([]),w=E()(re,2),U=w[0],ee=w[1],ie=(0,b.useState)([]),ae=E()(ie,2),W=ae[0],ge=ae[1],z=(0,b.useState)(G.limit||1),pe=E()(z,1),ve=pe[0],xe=(0,b.useState)([]),Ce=E()(xe,2),J=Ce[0],De=Ce[1],Me=(0,b.useState)([]),se=E()(Me,2),ue=se[0],Se=se[1],Fe=function(){var I=d()(n()().mark(function c(){var t,l,s,D,S,H;return n()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return t=new Map,fe.next=3,(0,be.cH)();case 3:l=fe.sent,l.status===200&&l.data&&l.data.rows&&(s=l.data.rows,D=[],s&&s.length&&s.map(function(me){me.key!=="11111111"&&D.push(Object.assign({},me,{title:me.label,checked:!1})),t.set(me.key,Object.assign({},me,{checked:!1}))}),D.push(Object.assign({},s[1],{title:s[1]&&s[1].label,checked:!1})),S=(0,ta.Z)(D),H=S.rowsTree,ee(H),De(H[0]));case 5:case"end":return fe.stop()}},c)}));return function(){return I.apply(this,arguments)}}(),Oe=function(){var I=d()(n()().mark(function c(){var t,l;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(t=[],!J){D.next=8;break}return t.push(J.key),J.children&&J.children.length>0&&J.children.map(function(S){t.push(S.key),S.children&&S.children.length&&S.children.map(function(H){t.push(H.key),H.children&&H.children.length&&H.children.map(function(q){t.push(q.key)})})}),D.next=6,(0,be.Do)({key:t.join(",")});case 6:l=D.sent,l.status===200&&l.data&&J&&J.key&&(U.map(function(S,H){U[H]&&S&&Number(S.key)===Number(J.key)&&(U[H]=Object.assign({},S,{data:l.data}))}),ee(U),ge(l.data.rows));case 8:case"end":return D.stop()}},c)}));return function(){return I.apply(this,arguments)}}(),Re=function(){var I=d()(n()().mark(function c(t){var l;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,be.Qc)(t);case 2:l=D.sent,l.status===200&&l.data&&Oe();case 4:case"end":return D.stop()}},c)}));return function(t){return I.apply(this,arguments)}}(),Ae=function(){var I=d()(n()().mark(function c(t){var l;return n()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,be.Qc)(t);case 2:l=D.sent,l.status===200&&l.data&&Oe();case 4:case"end":return D.stop()}},c)}));return function(t){return I.apply(this,arguments)}}();(0,b.useEffect)(function(){Fe()},[]),(0,b.useEffect)(function(){Oe()},[J]);var ce=function(c){var t=[];U.map(function(l){l.key===c.key?t.push(Object.assign({},l,{active:!0})):t.push(Object.assign({},l,{active:!1}))}),De(c),ee(t)},ke=function(){var c=[];return U&&U.length>0&&U[0]&&U.map(function(t,l){t.children?c.push((0,a.jsxs)("li",{className:"pad00",children:[(0,a.jsxs)("div",{title:t.label,className:"item ".concat(t.active?"active":""),onClick:function(){return ce(t)},children:[(0,a.jsx)("span",{className:"space"}),t.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}),he.Z.replaceExceedEnd(t.label,20)]},t.key),t.children&&t.children.length&&(0,a.jsx)("ul",{children:t.children.map(function(s,D){return(0,a.jsxs)("li",{className:"pad01",children:[(0,a.jsxs)("div",{title:s.label,className:"item ".concat(s.active?"active":""),onClick:function(){return ce(s)},children:[(0,a.jsx)("span",{className:"space"}),s.is_default===0?s.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}):null,he.Z.replaceExceedEnd(s.label,25)]}),s.children&&s.children.length&&(0,a.jsx)("ul",{children:s.children.map(function(S,H){return(0,a.jsxs)("li",{className:"pad02",children:[(0,a.jsxs)("div",{title:S.label,className:"item ".concat(S.active?"active":""),onClick:function(){return ce(S)},children:[(0,a.jsx)("span",{className:"space"}),S.is_default===0?S.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}):null,he.Z.replaceExceedEnd(S.label,20)]}),S.children&&S.children.length&&(0,a.jsx)("ul",{children:S.children.map(function(q,fe){q.label,"".concat(q.active?"active":""),q.is_default===0&&(q.is_leaf===1?Ee.Z:Pe.Z),he.Z.replaceExceedEnd(q.label,20),"".concat(q.key,"_").concat(fe)})},"".concat(S.key,"_").concat(H,"_ul"))]},"".concat(S.key,"_").concat(H))})},"".concat(s.key,"_").concat(D,"_ul"))]},"".concat(s.key,"_").concat(D))})})]},"".concat(t.key,"_").concat(l))):c.push((0,a.jsx)("li",{className:"pad00",children:(0,a.jsxs)("div",{title:t.label,className:"item ".concat(t.active?"active":""),onClick:function(){return ce(t)},children:[(0,a.jsx)("span",{className:"space"}),t.is_leaf?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}),he.Z.replaceExceedEnd(t.label,20)]},t.key)},"".concat(t.key,"_").concat(t.is_defaul)))}),c},Be=function(){ne()},B=function(){ue&&ue[0]&&ue[0].url?P(ue):_e.ZP.error("\u8BF7\u6DFB\u52A0\u56FE\u7247\u7D20\u6750")},O=function(){return G&&G.des||"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09"},j=function(c){var t=[];if(ve===1?W.map(function(l,s){l.keys===c.keys?(W[s]=Object.assign({},l,{current:!0}),t.push(Object.assign({},l,{current:!0}))):W[s]=Object.assign({},l,{current:!1})}):W.map(function(l,s){l.keys===c.keys?c.current?W[s]=Object.assign({},l,{current:!1}):(W[s]=Object.assign({},l,{current:!0}),t.push(Object.assign({},l,{current:!0}))):l.current&&t.push(l)}),ve>1&&t&&t.length>ve)return _e.ZP.success("\u5F53\u524D\u573A\u666F\u4E0B\u7D20\u6750\u4E00\u6B21\u64CD\u4F5C\u9650\u5236".concat(ve,"\u5F20\u7D20\u6750")),!1;ge(W),Se(t)},K=function(c){c&&(c.status===1?ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5F7B\u5E95\u5220\u9664\u670D\u52A1\u6587\u4EF6\uFF0C\u8D44\u6E90\u5730\u5740\u5C06\u5931\u53BB\u8BBF\u95EE",onOk:function(){Re(c)},onCancel:function(){console.log("Cancel")}}):ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u7D20\u6750",onOk:function(){Ae(c)},onCancel:function(){console.log("Cancel")}}))},de=function(c){fetch(c.url).then(function(t){return t.blob()}).then(function(t){var l=URL.createObjectURL(new Blob([t])),s=document.createElement("a");s.href=l,s.download="image.png",document.body.appendChild(s),s.click(),URL.revokeObjectURL(l),s.remove()})},R=function(){var c=[];return W&&W.length&&W.map(function(t){c.push((0,a.jsx)("li",{className:"item",children:(0,a.jsxs)("div",{className:t&&t.current?"style current":"style",children:[(0,a.jsx)("div",{className:"checkbox_input",onClick:function(){return j(t)},children:(0,a.jsx)("span",{className:"checkbox_inner"})}),(0,a.jsx)("div",{className:"img-box",onClick:function(){return j(t)},children:(0,a.jsx)(ca.Z,{width:160,src:t.url,preview:!1})}),(0,a.jsx)("div",{className:"line"}),(0,a.jsxs)("div",{className:"tool",children:[(0,a.jsx)(na.Z,{onClick:function(){return K(t)}}),(0,a.jsx)(la,{}),(0,a.jsx)(ua,{}),(0,a.jsx)(oa.Z,{onClick:function(){return de(t)}})]}),(0,a.jsx)("div",{className:"line"}),(0,a.jsx)("div",{className:"title ellipsis",title:t.filename,onClick:function(){return j(t)},children:t.filename})]})},t.keys))}),c};return(0,a.jsx)("div",{className:"image-select-modal",children:(0,a.jsx)(ye.Z,{className:"wrap-select-modal",title:"\u9009\u62E9\u56FE\u7247\u7D20\u6750 ",open:x,width:1200,onOk:B,zIndex:999,onCancel:Be,children:(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)(da.Z,{children:[(0,a.jsx)(We.Z,{span:5,children:(0,a.jsxs)("div",{className:"folder-menu",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(ia.Z,{})," \u6587\u4EF6\u76EE\u5F55"]}),(0,a.jsx)("div",{className:"menu-wrap",children:(0,a.jsx)("ul",{children:U&&ke()})})]})}),(0,a.jsxs)(We.Z,{span:19,children:[(0,a.jsx)("div",{className:"sub-title",children:O()}),(0,a.jsx)("div",{className:"imglist-modal",children:(0,a.jsx)("div",{className:"imglist",children:(0,a.jsx)("div",{className:"content",children:(0,a.jsx)("div",{className:"list-owflow",children:(0,a.jsx)("ul",{className:"list-ul",children:R()})})})})})]})]})})})})},pa=fa,Ke={language:"",name:"",src:"",url:"",type:"",is_show:1,remark:"",channel:""},va=function(){var o=ea.Z.useForm(),x=E()(o,1),N=x[0],P=(0,b.useRef)(),ne=(0,b.useState)(!1),G=E()(ne,2),re=G[0],w=G[1],U=(0,b.useState)(!1),ee=E()(U,2),ie=ee[0],ae=ee[1],W=(0,b.useState)(Ke),ge=E()(W,2),z=ge[0],pe=ge[1],ve=(0,b.useState)(0),xe=E()(ve,2),Ce=xe[0],J=xe[1],De=(0,b.useState)(0),Me=E()(De,2),se=Me[0],ue=Me[1],Se=function(){ae(!1)},Fe=function(O){var j=Object.assign({},z,{src:O[0].url});pe(j),ae(!1)},Oe=function(){var B=d()(n()().mark(function O(j){var K;return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(!(j&&j.name&&j.url&&j.type&&j.channel&&j.src)){R.next=16;break}if(!(se<2)){R.next=13;break}if(se!==0){R.next=6;break}return R.next=5,i(j);case 5:K=R.sent;case 6:if(se!==1){R.next=10;break}return R.next=9,m(j);case 9:K=R.sent;case 10:K&&K.status===200&&K.data&&(w(!1),J(new Date().getTime()),_e.ZP.success("\u63D0\u4EA4\u6210\u529F")),R.next=14;break;case 13:w(!1);case 14:R.next=17;break;case 16:_e.ZP.success("\u7F3A\u5C11\u5FC5\u8981\u53C2\u6570");case 17:case"end":return R.stop()}},O)}));return function(j){return B.apply(this,arguments)}}(),Re=function(O){ue(1),pe(O),w(!0)},Ae=function(O){ue(2),pe(O),w(!0)},ce=function(){var B=d()(n()().mark(function O(j){return n()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:j&&j.id&&ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u5E7F\u544ABanner",onOk:function(){var R=d()(n()().mark(function c(){var t;return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,F({id:j.id});case 2:t=s.sent,t&&t.status===200&&(J(new Date().getTime()),_e.ZP.success("\u5220\u9664\u6210\u529F"));case 4:case"end":return s.stop()}},c)}));function I(){return R.apply(this,arguments)}return I}(),onCancel:function(){console.log("Cancel")}});case 1:case"end":return de.stop()}},O)}));return function(j){return B.apply(this,arguments)}}(),ke=[{title:"ID",dataIndex:"id",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u540D\u79F0",dataIndex:"name",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u8BED\u8A00",dataIndex:"language",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},"en-US":{text:"English",status:"en-US"},"ja-JP":{text:"Japanese",status:"ja-JP"},"zh-CN":{text:"\u4E2D\u6587(\u7B80\u4F53)",status:"zh-CN"}}},{title:"URL",dataIndex:"url",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u901A\u9053",dataIndex:"channel",valueType:"select",initialValue:"all",valueEnum:f.getTableChannel},{title:"\u7C7B\u578B",dataIndex:"type",valueType:"select",initialValue:"all",valueEnum:r.getTableType},{title:"\u5C55\u793A\u72B6\u6001",dataIndex:"is_show",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},1:{text:"\u662F",status:"1"},0:{text:"\u5426",status:"0"}}},{title:"\u5907\u6CE8",dataIndex:"remark",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",valueType:"dateRange",hideInForm:!0,hideInSearch:!0,hideInTable:!1,search:{transform:function(O){return{startTime:O[0],endTime:O[1]}}},render:function(O,j){return j.createdAt}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(O,j){return[(0,a.jsx)("a",{onClick:function(){Re(j)},children:"\u7F16\u8F91"},"edit"),(0,a.jsx)("a",{onClick:function(){Ae(j)},children:"\u67E5\u770B"},"view"),(0,a.jsx)("a",{onClick:function(){ce(j)},children:"\u5220\u9664"},"del")]}}],Be=function(){var O;switch(se){case 0:O="\u521B\u5EFA\u5E7F\u544ABanner";break;case 1:O="\u7F16\u8F91\u5E7F\u544ABanner";break;case 2:O="\u67E5\u770B\u5E7F\u544ABanner";break;default:O="\u521B\u5EFA\u5E7F\u544ABanner"}return O};return(0,a.jsxs)(V._z,{children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(Y.Z,{tableClassName:"page-table",headerTitle:"\u6570\u636E\u8868",actionRef:P,rowKey:"key",params:Ce,search:{labelWidth:120},request:C,columns:ke,toolBarRender:function(){return[(0,a.jsx)(Le.ZP,{icon:(0,a.jsx)(A.Z,{}),onClick:function(){ue(0),pe(Ke),w(!0)},type:"primary",children:"\u65B0\u5EFA"},"button")]}}),(0,a.jsxs)(X.Y,{open:re,title:Be(),form:N,readonly:se===2,autoFocusFirstInput:!0,modalProps:{zIndex:99,destroyOnClose:!0,onCancel:function(){return w(!1)}},submitTimeout:2e3,onFinish:function(){var B=d()(n()().mark(function O(j){var K;return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return K=Object.assign({},z,j),Oe(K),R.abrupt("return",!0);case 3:case"end":return R.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),children:[(0,a.jsxs)(M.A.Group,{children:[(0,a.jsx)(_.Z,{rules:[{required:!0}],width:"md",name:"name",label:"Banner \u540D\u79F0",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",initialValue:z.name}),(0,a.jsx)(Ge.Group,{width:"md",rules:[{required:!0}],label:"\u662F\u5426\u5C55\u793A",name:"is_show",initialValue:z.is_show,options:[{label:"\u662F",value:1},{label:"\u5426",value:0}]})]}),(0,a.jsxs)("div",{className:"img-box-modal-form",children:[(0,a.jsx)("div",{className:"header",children:(0,a.jsxs)("div",{className:"title",children:[(0,a.jsx)("i",{children:"*"}),"\u56FE\u7247"]})}),(0,a.jsxs)("div",{className:"view-box clearfix",children:[(0,a.jsx)("div",{className:"view",children:(0,a.jsx)("img",{src:z.src})}),(0,a.jsx)(Le.ZP,{className:"button",type:"primary",size:"small",onClick:function(){ae(!0)},children:"\u9009\u62E9\u56FE\u7247"})]})]}),(0,a.jsxs)(M.A.Group,{children:[(0,a.jsx)(_.Z,{rules:[{required:!0}],width:"md",name:"url",label:"\u94FE\u63A5\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",initialValue:z.url}),(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"language",label:"\u9009\u62E9\u5BF9\u5E94\u7684\u8BED\u8A00",initialValue:z.language,options:[{label:"English",value:"en-US"},{label:"Japanese",value:"ja-JP"},{label:"\u4E2D\u6587(\u7B80\u4F53)",value:"zh-CN"}]})]}),(0,a.jsxs)(M.A.Group,{children:[(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"type",label:"\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",placeholder:"\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",initialValue:z.type,options:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}]}),(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"channel",label:"\u5E7F\u544A\u5C55\u793A\u901A\u9053",placeholder:"\u8BF7\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u901A\u9053",initialValue:z.channel,options:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"},{value:"qbs-tools",label:"qbs-tools"}]})]}),(0,a.jsx)(M.A.Group,{children:(0,a.jsx)(_.Z,{width:"md",name:"remark",label:"\u5907\u6CE8",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",initialValue:z.remark})})]}),(0,a.jsx)(pa,{open:ie,callbackCancel:Se,callbackOk:Fe,selectedType:"banner"})]})},ma=va},38057:function(Q,T){T.Z=function(e){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{key:"",father_key:""},n=JSON.parse(JSON.stringify(e)),h=new Map,d=[],g=[],E=[];if(n.forEach(function(i){var m=Object.assign({},i,{active:0});h.set(i.key,m)}),v&&v.key){if(E.push(v.key),v.father_key){var Z=h.get(v.father_key);if(Z&&(E.push(Z.key),Z.father_key)){var f=h.get(Z.father_key);if(E.push(f.key),f.father_key){var r=h.get(f.father_key);if(E.push(r.key),r.father_key){var u=h.get(f.father_key);E.push(u.key)}}}}E.forEach(function(i){var m=h.get(i);if(m){var F=Object.assign({},m,{active:1});h.set(i,F)}})}return h.forEach(function(i){if(g.push(Object.assign({},i)),i.father_key){var m=h.get(i.father_key);m&&(m.children||(m.children=[]),m.children.push(i))}else d.push(i)}),{rowsTree:d,rowsList:g}}}}]);
