"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[4137],{49495:function(ae,k){var a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};k.Z=a},82061:function(ae,k,a){var y=a(1413),n=a(67294),b=a(47046),_=a(91146),F=function(R,P){return n.createElement(_.Z,(0,y.Z)((0,y.Z)({},R),{},{ref:P,icon:b.Z}))};F.displayName="DeleteOutlined",k.Z=n.forwardRef(F)},69753:function(ae,k,a){var y=a(1413),n=a(67294),b=a(49495),_=a(91146),F=function(R,P){return n.createElement(_.Z,(0,y.Z)((0,y.Z)({},R),{},{ref:P,icon:b.Z}))};F.displayName="DownloadOutlined",k.Z=n.forwardRef(F)},54734:function(ae,k,a){var y=a(1413),n=a(67294),b=a(48898),_=a(91146),F=function(R,P){return n.createElement(_.Z,(0,y.Z)((0,y.Z)({},R),{},{ref:P,icon:b.Z}))};F.displayName="FolderOpenOutlined",k.Z=n.forwardRef(F)},51042:function(ae,k,a){var y=a(1413),n=a(67294),b=a(42110),_=a(91146),F=function(R,P){return n.createElement(_.Z,(0,y.Z)((0,y.Z)({},R),{},{ref:P,icon:b.Z}))};F.displayName="PlusOutlined",k.Z=n.forwardRef(F)},5966:function(ae,k,a){var y=a(97685),n=a(1413),b=a(91),_=a(21770),F=a(59586),g=a(55241),R=a(97435),P=a(67294),r=a(68468),i=a(85893),o=["fieldProps","proFieldProps"],f=["fieldProps","proFieldProps"],T="text",C=function(D){var p=D.fieldProps,v=D.proFieldProps,A=(0,b.Z)(D,o);return(0,i.jsx)(r.Z,(0,n.Z)({valueType:T,fieldProps:p,filedConfig:{valueType:T},proFieldProps:v},A))},Z=function(D){var p=(0,_.Z)(D.open||!1,{value:D.open,onChange:D.onOpenChange}),v=(0,y.Z)(p,2),A=v[0],le=v[1];return(0,i.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(m){var te,ie=m.getFieldValue(D.name||[]);return(0,i.jsx)(g.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(I){return I&&I.parentNode?I.parentNode:I},onOpenChange:function(I){return le(I)},content:(0,i.jsxs)("div",{style:{padding:"4px 0"},children:[(te=D.statusRender)===null||te===void 0?void 0:te.call(D,ie),D.strengthText?(0,i.jsx)("div",{style:{marginTop:10},children:(0,i.jsx)("span",{children:D.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},D.popoverProps),{},{open:A,children:D.children}))}})},V=function(D){var p=D.fieldProps,v=D.proFieldProps,A=(0,b.Z)(D,f),le=(0,P.useState)(!1),$=(0,y.Z)(le,2),m=$[0],te=$[1];return p!=null&&p.statusRender&&A.name?(0,i.jsx)(Z,{name:A.name,statusRender:p==null?void 0:p.statusRender,popoverProps:p==null?void 0:p.popoverProps,strengthText:p==null?void 0:p.strengthText,open:m,onOpenChange:te,children:(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,R.Z)(p,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(e){var I;p==null||(I=p.onBlur)===null||I===void 0||I.call(p,e),te(!1)},onClick:function(e){var I;p==null||(I=p.onClick)===null||I===void 0||I.call(p,e),te(!0)}}),proFieldProps:v,filedConfig:{valueType:T}},A))})}):(0,i.jsx)(r.Z,(0,n.Z)({valueType:"password",fieldProps:p,proFieldProps:v,filedConfig:{valueType:T}},A))},Q=C;Q.Password=V,Q.displayName="ProFormComponent",k.Z=Q},19436:function(ae,k,a){var y=a(15009),n=a.n(y),b=a(99289),_=a.n(b),F=a(5574),g=a.n(F),R=a(1848),P=a(71230),r=a(15746),i=a(67294),o=a(85893),f={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},T=function(){var Z=(0,i.useState)(f),V=g()(Z,2),Q=V[0],Y=V[1],D=function(){var p=_()(n()().mark(function v(){var A;return n()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,R.Io)();case 2:A=$.sent,A&&A.status===200&&A.data&&Y(A.data);case 4:case"end":return $.stop()}},v)}));return function(){return p.apply(this,arguments)}}();return(0,i.useEffect)(function(){D()},[]),(0,o.jsx)(P.Z,{children:(0,o.jsx)(r.Z,{children:(0,o.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(Q&&Q.name?Q.name:"\u65E0\u9879\u76EE")]})})})};k.Z=T},13328:function(ae,k,a){a.r(k),a.d(k,{default:function(){return Ea}});var y=a(15009),n=a.n(y),b=a(99289),_=a.n(b),F=a(5574),g=a.n(F),R=a(19436),P={setChannel:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"}],getTableChannel:{all:{text:"\u6240\u6709",status:"all"},limeetpet:{text:"limeetpet",status:"limeetpet"},community:{text:"community",status:"community"}}},r={setType:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}],getTableType:{all:{text:"\u6240\u6709",status:"all"},home:{text:"home",status:"home"},list:{text:"list",status:"list"},product:{text:"product",status:"product"},detail:{text:"detail",status:"detail"},other:{text:"other",status:"other"}}},i=a(14776),o=function(){var c=_()(n()().mark(function s(h){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,i.request)("/api/banner/create",{method:"POST",data:h,config:{isToast:!0}}));case 1:case"end":return E.stop()}},s)}));return function(h){return c.apply(this,arguments)}}(),f=function(){var c=_()(n()().mark(function s(h){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,i.request)("/api/banner/edit",{method:"POST",data:h}));case 1:case"end":return E.stop()}},s)}));return function(h){return c.apply(this,arguments)}}(),T=function(){var c=_()(n()().mark(function s(h){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,i.request)("/api/banner/del",{method:"POST",data:h}));case 1:case"end":return E.stop()}},s)}));return function(h){return c.apply(this,arguments)}}(),C=function(){var c=_()(n()().mark(function s(h){return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,i.request)("/api/banner/query",{method:"POST",data:h}));case 1:case"end":return E.stop()}},s)}));return function(h){return c.apply(this,arguments)}}(),Z=a(51042),V=a(90930),Q=a(87273),Y=a(37476),D=a(34994),p=a(5966),v=a(1413),A=a(91),le=a(22270),$=a(78045),m=a(67294),te=a(90789),ie=a(68468),e=a(85893),I=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],$e=m.forwardRef(function(c,s){var h=c.fieldProps,N=c.options,E=c.radioType,ne=c.layout,G=c.proFieldProps,re=c.valueEnum,U=(0,A.Z)(c,I);return(0,e.jsx)(ie.Z,(0,v.Z)((0,v.Z)({valueType:E==="button"?"radioButton":"radio",ref:s,valueEnum:(0,le.h)(re,void 0)},U),{},{fieldProps:(0,v.Z)({options:N,layout:ne},h),proFieldProps:G,filedConfig:{customLightMode:!0}}))}),Ge=m.forwardRef(function(c,s){var h=c.fieldProps,N=c.children;return(0,e.jsx)($.ZP,(0,v.Z)((0,v.Z)({},h),{},{ref:s,children:N}))}),ze=(0,te.G)(Ge,{valuePropName:"checked",ignoreWidth:!0}),je=ze;je.Group=$e,je.Button=$.ZP.Button,je.displayName="ProFormComponent";var Je=je,Ie=a(66758),Qe=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Ye=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],Xe=function(s,h){var N=s.fieldProps,E=s.children,ne=s.params,G=s.proFieldProps,re=s.mode,U=s.valueEnum,L=s.request,q=s.showSearch,oe=s.options,ee=(0,A.Z)(s,Qe),W=(0,m.useContext)(Ie.Z);return(0,e.jsx)(ie.Z,(0,v.Z)((0,v.Z)({valueEnum:(0,le.h)(U),request:L,params:ne,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({options:oe,mode:re,showSearch:q,getPopupContainer:W.getPopupContainer},N),ref:h,proFieldProps:G},ee),{},{children:E}))},qe=m.forwardRef(function(c,s){var h=c.fieldProps,N=c.children,E=c.params,ne=c.proFieldProps,G=c.mode,re=c.valueEnum,U=c.request,L=c.options,q=(0,A.Z)(c,Ye),oe=(0,v.Z)({options:L,mode:G||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},h),ee=(0,m.useContext)(Ie.Z);return(0,e.jsx)(ie.Z,(0,v.Z)((0,v.Z)({valueEnum:(0,le.h)(re),request:U,params:E,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,v.Z)({getPopupContainer:ee.getPopupContainer},oe),ref:s,proFieldProps:ne},q),{},{children:N}))}),ea=m.forwardRef(Xe),aa=qe,Se=ea;Se.SearchSelect=aa,Se.displayName="ProFormComponent";var Fe=Se,ta=a(59586),he=a(2453),ye=a(17788),Le=a(83622),na={image_link:{des:"\u9009\u62E9\u5546\u54C1\u4E3B\u56FE\uFF08\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},additionalImageLinks:{des:"\u5546\u54C1\u9644\u52A0\u56FE\u7247\uFF08\u9009\u62E95\u5F20\u56FE\u7247\uFF09",limit:5},lifestyleImageLinks:{des:"\u6DFB\u52A0\u5546\u54C1\u8BE6\u60C5\uFF08\u6700\u591A\u9009\u62E920\u5F20\u56FE\u7247\uFF09",limit:20},banner:{des:"\u6DFB\u52A0\u5E7F\u544A\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},other:{des:"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1}},be=a(55195),ra=a(38057),_e=a(67707),la=a(70478),xe=a(91146),Ne=function(s,h){return m.createElement(xe.Z,(0,v.Z)((0,v.Z)({},s),{},{ref:h,icon:la.Z}))};Ne.displayName="MinusSquareOutlined";var Pe=m.forwardRef(Ne),sa=a(43114),Ue=function(s,h){return m.createElement(xe.Z,(0,v.Z)((0,v.Z)({},s),{},{ref:h,icon:sa.Z}))};Ue.displayName="PlusSquareOutlined";var Ee=m.forwardRef(Ue),ua=a(82061),ia=a(10952),We=function(s,h){return m.createElement(xe.Z,(0,v.Z)((0,v.Z)({},s),{},{ref:h,icon:ia.Z}))};We.displayName="RotateRightOutlined";var oa=m.forwardRef(We),ca=a(39055),Ke=function(s,h){return m.createElement(xe.Z,(0,v.Z)((0,v.Z)({},s),{},{ref:h,icon:ca.Z}))};Ke.displayName="SwapOutlined";var da=m.forwardRef(Ke),fa=a(69753),pa=a(54734),va=a(79607),ma=a(71230),He=a(15746),ha=function(s){var h=s.open,N=s.selectedType,E=s.callbackOk,ne=s.callbackCancel,G=na[N],re=(0,m.useState)([]),U=g()(re,2),L=U[0],q=U[1],oe=(0,m.useState)([]),ee=g()(oe,2),W=ee[0],ge=ee[1],z=(0,m.useState)(G.limit||1),pe=g()(z,1),ve=pe[0],Ce=(0,m.useState)([]),De=g()(Ce,2),J=De[0],Me=De[1],Te=(0,m.useState)([]),se=g()(Te,2),ue=se[0],Ze=se[1],ke=function(){var w=_()(n()().mark(function d(){var t,l,u,x,M,H;return n()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return t=new Map,fe.next=3,(0,be.cH)();case 3:l=fe.sent,l.status===200&&l.data&&l.data.rows&&(u=l.data.rows,x=[],u&&u.length&&u.map(function(me){me.key!=="11111111"&&x.push(Object.assign({},me,{title:me.label,checked:!1})),t.set(me.key,Object.assign({},me,{checked:!1}))}),x.push(Object.assign({},u[1],{title:u[1]&&u[1].label,checked:!1})),M=(0,ra.Z)(x),H=M.rowsTree,q(H),Me(H[0]));case 5:case"end":return fe.stop()}},d)}));return function(){return w.apply(this,arguments)}}(),Oe=function(){var w=_()(n()().mark(function d(){var t,l;return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(t=[],!J){x.next=8;break}return t.push(J.key),J.children&&J.children.length>0&&J.children.map(function(M){t.push(M.key),M.children&&M.children.length&&M.children.map(function(H){t.push(H.key),H.children&&H.children.length&&H.children.map(function(X){t.push(X.key)})})}),x.next=6,(0,be.Do)({key:t.join(",")});case 6:l=x.sent,l.status===200&&l.data&&J&&J.key&&(L.map(function(M,H){L[H]&&M&&Number(M.key)===Number(J.key)&&(L[H]=Object.assign({},M,{data:l.data}))}),q(L),ge(l.data.rows));case 8:case"end":return x.stop()}},d)}));return function(){return w.apply(this,arguments)}}(),Re=function(){var w=_()(n()().mark(function d(t){var l;return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,be.Qc)(t);case 2:l=x.sent,l.status===200&&l.data&&Oe();case 4:case"end":return x.stop()}},d)}));return function(t){return w.apply(this,arguments)}}(),Ae=function(){var w=_()(n()().mark(function d(t){var l;return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,be.Qc)(t);case 2:l=x.sent,l.status===200&&l.data&&Oe();case 4:case"end":return x.stop()}},d)}));return function(t){return w.apply(this,arguments)}}();(0,m.useEffect)(function(){ke()},[]),(0,m.useEffect)(function(){Oe()},[J]);var ce=function(d){var t=[];L.map(function(l){l.key===d.key?t.push(Object.assign({},l,{active:!0})):t.push(Object.assign({},l,{active:!1}))}),Me(d),q(t)},Be=function(){var d=[];return L&&L.length>0&&L[0]&&L.map(function(t,l){t.children?d.push((0,e.jsxs)("li",{className:"pad00",children:[(0,e.jsxs)("div",{title:t.label,className:"item ".concat(t.active?"active":""),onClick:function(){return ce(t)},children:[(0,e.jsx)("span",{className:"space"}),t.is_leaf===1?(0,e.jsx)(Pe,{}):(0,e.jsx)(Ee,{}),_e.Z.replaceExceedEnd(t.label,20)]},t.key),t.children&&t.children.length&&(0,e.jsx)("ul",{children:t.children.map(function(u,x){return(0,e.jsxs)("li",{className:"pad01",children:[(0,e.jsxs)("div",{title:u.label,className:"item ".concat(u.active?"active":""),onClick:function(){return ce(u)},children:[(0,e.jsx)("span",{className:"space"}),u.is_default===0?u.is_leaf===1?(0,e.jsx)(Pe,{}):(0,e.jsx)(Ee,{}):null,_e.Z.replaceExceedEnd(u.label,25)]}),u.children&&u.children.length&&(0,e.jsx)("ul",{children:u.children.map(function(M,H){return(0,e.jsxs)("li",{className:"pad02",children:[(0,e.jsxs)("div",{title:M.label,className:"item ".concat(M.active?"active":""),onClick:function(){return ce(M)},children:[(0,e.jsx)("span",{className:"space"}),M.is_default===0?M.is_leaf===1?(0,e.jsx)(Pe,{}):(0,e.jsx)(Ee,{}):null,_e.Z.replaceExceedEnd(M.label,20)]}),M.children&&M.children.length&&(0,e.jsx)("ul",{children:M.children.map(function(X,fe){X.label,"".concat(X.active?"active":""),X.is_default===0&&X.is_leaf,_e.Z.replaceExceedEnd(X.label,20),"".concat(X.key,"_").concat(fe)})},"".concat(M.key,"_").concat(H,"_ul"))]},"".concat(M.key,"_").concat(H))})},"".concat(u.key,"_").concat(x,"_ul"))]},"".concat(u.key,"_").concat(x))})})]},"".concat(t.key,"_").concat(l))):d.push((0,e.jsx)("li",{className:"pad00",children:(0,e.jsxs)("div",{title:t.label,className:"item ".concat(t.active?"active":""),onClick:function(){return ce(t)},children:[(0,e.jsx)("span",{className:"space"}),t.is_leaf?(0,e.jsx)(Pe,{}):(0,e.jsx)(Ee,{}),_e.Z.replaceExceedEnd(t.label,20)]},t.key)},"".concat(t.key,"_").concat(t.is_defaul)))}),d},we=function(){ne()},B=function(){ue&&ue[0]&&ue[0].url?E(ue):he.ZP.error("\u8BF7\u6DFB\u52A0\u56FE\u7247\u7D20\u6750")},O=function(){return G&&G.des||"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09"},j=function(d){var t=[];if(ve===1?W.map(function(l,u){l.keys===d.keys?(W[u]=Object.assign({},l,{current:!0}),t.push(Object.assign({},l,{current:!0}))):W[u]=Object.assign({},l,{current:!1})}):W.map(function(l,u){l.keys===d.keys?d.current?W[u]=Object.assign({},l,{current:!1}):(W[u]=Object.assign({},l,{current:!0}),t.push(Object.assign({},l,{current:!0}))):l.current&&t.push(l)}),ve>1&&t&&t.length>ve)return he.ZP.success("\u5F53\u524D\u573A\u666F\u4E0B\u7D20\u6750\u4E00\u6B21\u64CD\u4F5C\u9650\u5236".concat(ve,"\u5F20\u7D20\u6750")),!1;ge(W),Ze(t)},K=function(d){d&&(d.status===1?ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5F7B\u5E95\u5220\u9664\u670D\u52A1\u6587\u4EF6\uFF0C\u8D44\u6E90\u5730\u5740\u5C06\u5931\u53BB\u8BBF\u95EE",onOk:function(){Re(d)},onCancel:function(){console.log("Cancel")}}):ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u7D20\u6750",onOk:function(){Ae(d)},onCancel:function(){console.log("Cancel")}}))},de=function(d){fetch(d.url).then(function(t){return t.blob()}).then(function(t){var l=URL.createObjectURL(new Blob([t])),u=document.createElement("a");u.href=l,u.download="image.png",document.body.appendChild(u),u.click(),URL.revokeObjectURL(l),u.remove()})},S=function(){var d=[];return W&&W.length&&W.map(function(t){d.push((0,e.jsx)("li",{className:"item",children:(0,e.jsxs)("div",{className:t&&t.current?"style current":"style",children:[(0,e.jsx)("div",{className:"checkbox_input",onClick:function(){return j(t)},children:(0,e.jsx)("span",{className:"checkbox_inner"})}),(0,e.jsx)("div",{className:"img-box",onClick:function(){return j(t)},children:(0,e.jsx)(va.Z,{width:160,src:t.url,preview:!1})}),(0,e.jsx)("div",{className:"line"}),(0,e.jsxs)("div",{className:"tool",children:[(0,e.jsx)(ua.Z,{onClick:function(){return K(t)}}),(0,e.jsx)(oa,{}),(0,e.jsx)(da,{}),(0,e.jsx)(fa.Z,{onClick:function(){return de(t)}})]}),(0,e.jsx)("div",{className:"line"}),(0,e.jsx)("div",{className:"title ellipsis",title:t.filename,onClick:function(){return j(t)},children:t.filename})]})},t.keys))}),d};return(0,e.jsx)("div",{className:"image-select-modal",children:(0,e.jsx)(ye.Z,{className:"wrap-select-modal",title:"\u9009\u62E9\u56FE\u7247\u7D20\u6750 ",open:h,width:1200,onOk:B,zIndex:999,onCancel:we,children:(0,e.jsx)("div",{className:"content",children:(0,e.jsxs)(ma.Z,{children:[(0,e.jsx)(He.Z,{span:5,children:(0,e.jsxs)("div",{className:"folder-menu",children:[(0,e.jsxs)("div",{className:"header",children:[(0,e.jsx)(pa.Z,{})," \u6587\u4EF6\u76EE\u5F55"]}),(0,e.jsx)("div",{className:"menu-wrap",children:(0,e.jsx)("ul",{children:L&&Be()})})]})}),(0,e.jsxs)(He.Z,{span:19,children:[(0,e.jsx)("div",{className:"sub-title",children:O()}),(0,e.jsx)("div",{className:"imglist-modal",children:(0,e.jsx)("div",{className:"imglist",children:(0,e.jsx)("div",{className:"content",children:(0,e.jsx)("div",{className:"list-owflow",children:(0,e.jsx)("ul",{className:"list-ul",children:S()})})})})})]})]})})})})},_a=ha,Ve={language:"",name:"",src:"",url:"",type:"",is_show:1,remark:"",channel:""},Pa=function(){var s=ta.Z.useForm(),h=g()(s,1),N=h[0],E=(0,m.useRef)(),ne=(0,m.useState)(!1),G=g()(ne,2),re=G[0],U=G[1],L=(0,m.useState)(!1),q=g()(L,2),oe=q[0],ee=q[1],W=(0,m.useState)(Ve),ge=g()(W,2),z=ge[0],pe=ge[1],ve=(0,m.useState)(0),Ce=g()(ve,2),De=Ce[0],J=Ce[1],Me=(0,m.useState)(0),Te=g()(Me,2),se=Te[0],ue=Te[1],Ze=function(){ee(!1)},ke=function(O){var j=Object.assign({},z,{src:O[0].url});pe(j),ee(!1)},Oe=function(){var B=_()(n()().mark(function O(j){var K;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!(j&&j.name&&j.url&&j.type&&j.channel&&j.src)){S.next=16;break}if(!(se<2)){S.next=13;break}if(se!==0){S.next=6;break}return S.next=5,o(j);case 5:K=S.sent;case 6:if(se!==1){S.next=10;break}return S.next=9,f(j);case 9:K=S.sent;case 10:K&&K.status===200&&K.data&&(U(!1),J(new Date().getTime()),he.ZP.success("\u63D0\u4EA4\u6210\u529F")),S.next=14;break;case 13:U(!1);case 14:S.next=17;break;case 16:he.ZP.success("\u7F3A\u5C11\u5FC5\u8981\u53C2\u6570");case 17:case"end":return S.stop()}},O)}));return function(j){return B.apply(this,arguments)}}(),Re=function(O){ue(1),pe(O),U(!0)},Ae=function(O){ue(2),pe(O),U(!0)},ce=function(){var B=_()(n()().mark(function O(j){return n()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:j&&j.id&&ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u5E7F\u544ABanner",onOk:function(){var S=_()(n()().mark(function d(){var t;return n()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,T({id:j.id});case 2:t=u.sent,t&&t.status===200&&(J(new Date().getTime()),he.ZP.success("\u5220\u9664\u6210\u529F"));case 4:case"end":return u.stop()}},d)}));function w(){return S.apply(this,arguments)}return w}(),onCancel:function(){console.log("Cancel")}});case 1:case"end":return de.stop()}},O)}));return function(j){return B.apply(this,arguments)}}(),Be=[{title:"ID",dataIndex:"id",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u540D\u79F0",dataIndex:"name",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u8BED\u8A00",dataIndex:"language",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},"en-US":{text:"English",status:"en-US"},"ja-JP":{text:"Japanese",status:"ja-JP"},"zh-CN":{text:"\u4E2D\u6587(\u7B80\u4F53)",status:"zh-CN"}}},{title:"URL",dataIndex:"url",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u901A\u9053",dataIndex:"channel",valueType:"select",initialValue:"all",valueEnum:P.getTableChannel},{title:"\u7C7B\u578B",dataIndex:"type",valueType:"select",initialValue:"all",valueEnum:r.getTableType},{title:"\u5C55\u793A\u72B6\u6001",dataIndex:"is_show",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},1:{text:"\u662F",status:"1"},0:{text:"\u5426",status:"0"}}},{title:"\u5907\u6CE8",dataIndex:"remark",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",valueType:"dateRange",hideInForm:!0,hideInSearch:!0,hideInTable:!1,search:{transform:function(O){return{startTime:O[0],endTime:O[1]}}},render:function(O,j){return j.createdAt}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(O,j){return[(0,e.jsx)("a",{onClick:function(){Re(j)},children:"\u7F16\u8F91"},"edit"),(0,e.jsx)("a",{onClick:function(){Ae(j)},children:"\u67E5\u770B"},"view"),(0,e.jsx)("a",{onClick:function(){ce(j)},children:"\u5220\u9664"},"del")]}}],we=function(){var O;switch(se){case 0:O="\u521B\u5EFA\u5E7F\u544ABanner";break;case 1:O="\u7F16\u8F91\u5E7F\u544ABanner";break;case 2:O="\u67E5\u770B\u5E7F\u544ABanner";break;default:O="\u521B\u5EFA\u5E7F\u544ABanner"}return O};return(0,e.jsxs)(V._z,{children:[(0,e.jsx)(R.Z,{}),(0,e.jsx)(Q.Z,{tableClassName:"page-table",headerTitle:"\u6570\u636E\u8868",actionRef:E,rowKey:"key",params:De,search:{labelWidth:120},request:C,columns:Be,toolBarRender:function(){return[(0,e.jsx)(Le.ZP,{icon:(0,e.jsx)(Z.Z,{}),onClick:function(){ue(0),pe(Ve),U(!0)},type:"primary",children:"\u65B0\u5EFA"},"button")]}}),(0,e.jsxs)(Y.Y,{open:re,title:we(),form:N,readonly:se===2,autoFocusFirstInput:!0,modalProps:{zIndex:99,destroyOnClose:!0,onCancel:function(){return U(!1)}},submitTimeout:2e3,onFinish:function(){var B=_()(n()().mark(function O(j){var K;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return K=Object.assign({},z,j),Oe(K),S.abrupt("return",!0);case 3:case"end":return S.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),children:[(0,e.jsxs)(D.A.Group,{children:[(0,e.jsx)(p.Z,{rules:[{required:!0}],width:"md",name:"name",label:"Banner \u540D\u79F0",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",initialValue:z.name}),(0,e.jsx)(Je.Group,{width:"md",rules:[{required:!0}],label:"\u662F\u5426\u5C55\u793A",name:"is_show",initialValue:z.is_show,options:[{label:"\u662F",value:1},{label:"\u5426",value:0}]})]}),(0,e.jsxs)("div",{className:"img-box-modal-form",children:[(0,e.jsx)("div",{className:"header",children:(0,e.jsxs)("div",{className:"title",children:[(0,e.jsx)("i",{children:"*"}),"\u56FE\u7247"]})}),(0,e.jsxs)("div",{className:"view-box clearfix",children:[(0,e.jsx)("div",{className:"view",children:(0,e.jsx)("img",{src:z.src})}),(0,e.jsx)(Le.ZP,{className:"button",type:"primary",size:"small",onClick:function(){ee(!0)},children:"\u9009\u62E9\u56FE\u7247"})]})]}),(0,e.jsxs)(D.A.Group,{children:[(0,e.jsx)(p.Z,{rules:[{required:!0}],width:"md",name:"url",label:"\u94FE\u63A5\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",initialValue:z.url}),(0,e.jsx)(Fe,{rules:[{required:!0}],width:"md",name:"language",label:"\u9009\u62E9\u5BF9\u5E94\u7684\u8BED\u8A00",initialValue:z.language,options:[{label:"English",value:"en-US"},{label:"Japanese",value:"ja-JP"},{label:"\u4E2D\u6587(\u7B80\u4F53)",value:"zh-CN"}]})]}),(0,e.jsxs)(D.A.Group,{children:[(0,e.jsx)(Fe,{rules:[{required:!0}],width:"md",name:"type",label:"\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",placeholder:"\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",initialValue:z.type,options:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}]}),(0,e.jsx)(Fe,{rules:[{required:!0}],width:"md",name:"channel",label:"\u5E7F\u544A\u5C55\u793A\u901A\u9053",placeholder:"\u8BF7\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u901A\u9053",initialValue:z.channel,options:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"},{value:"qbs-tools",label:"qbs-tools"}]})]}),(0,e.jsx)(D.A.Group,{children:(0,e.jsx)(p.Z,{width:"md",name:"remark",label:"\u5907\u6CE8",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",initialValue:z.remark})})]}),(0,e.jsx)(_a,{open:oe,callbackCancel:Ze,callbackOk:ke,selectedType:"banner"})]})},Ea=Pa},38057:function(ae,k){k.Z=function(a){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{key:"",father_key:""},n=JSON.parse(JSON.stringify(a)),b=new Map,_=[],F=[],g=[];if(n.forEach(function(o){var f=Object.assign({},o,{active:0});b.set(o.key,f)}),y&&y.key){if(g.push(y.key),y.father_key){var R=b.get(y.father_key);if(R&&(g.push(R.key),R.father_key)){var P=b.get(R.father_key);if(g.push(P.key),P.father_key){var r=b.get(P.father_key);if(g.push(r.key),r.father_key){var i=b.get(P.father_key);g.push(i.key)}}}}g.forEach(function(o){var f=b.get(o);if(f){var T=Object.assign({},f,{active:1});b.set(o,T)}})}return b.forEach(function(o){if(F.push(Object.assign({},o)),o.father_key){var f=b.get(o.father_key);f&&(f.children||(f.children=[]),f.children.push(o))}else _.push(o)}),{rowsTree:_,rowsList:F}}},67707:function(ae,k,a){var y=a(9783),n=a.n(y),b=a(52677),_=a.n(b),F=a(5574),g=a.n(F),R=n()(n()({isEmptyObject:function(r){var i;for(i in r)if(r[i])return!1;return!0},trim:function(r){return r.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(r){return r&&Object.prototype.toString.call(r)==="[object Array]"},replaceExceedEnd:function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",f=0,T,C=r.replace(/<[^>]+>/g,""),Z=0;Z<C.length;Z++){var V=C.charCodeAt(Z);if(V>=19968&&V<=40959?f+=2:f+=1,f>i){T=Z;break}}return T&&(C="".concat(C.slice(0,T),"...")),C},uuid:function(){for(var r=[],i="0123456789abcdef",o=0;o<36;o++)r[o]=i.substr(Math.floor(Math.random()*16),1);r[14]="4",r[19]=i.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="-";var f=r.join("");return f},objectToString:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!r)return!1;var o=i||"&",f="";return Object.keys(r).forEach(function(T,C){f+="".concat(C===0?"":o).concat(T,"=").concat(r[T])}),f},formatPrice:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof r!="number"||Number.isNaN(r))return"\uFFE50.00";var o=parseInt(r,10);if(i===0)return"\uFFE5".concat(Math.floor(o/100));var f=o/100,T=Math.round(f*100)/100,C=T.toString(),Z=C.indexOf(".");return Z<0&&(Z=C.length,C+="."),C.length<=Z+parseInt(i,10)&&(C+="00"),"\uFFE5".concat(C)},getSearchObject:function(r){r=r||window.location.search;for(var i=r.replace("?","").split("&"),o={},f=0;f<i.length;f++){var T=i[f].split("="),C=g()(T,2),Z=C[0],V=C[1];o[Z]||(o[Z]=V)}return o},formatDete:function(r){var i=new Date(r),o=i.toLocaleString(),f=String(i),T=o.split(" "),C="",Z=T[0].split("/");Z=Z.map(function(Y){return Y<10&&(Y="0".concat(Y)),Y});var V=Z.join("-"),Q=f.split(" ")[4];return C="".concat(V,"   ").concat(Q),C}},"isArray",function(r){return Object.prototype.toString.call(r)==="[object Array]"}),"isNonEmptyObject",function(r){return r!==null&&_()(r)==="object"&&!Array.isArray(r)&&Object.keys(r).length>0});k.Z=R}}]);
