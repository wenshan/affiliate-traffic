"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[5402],{92615:function(L,E,i){var w=i(9783),f=i.n(w),D=i(52677),x=i.n(D),M=i(5574),O=i.n(M),b=f()(f()({isEmptyObject:function(a){var o;for(o in a)if(a[o])return!1;return!0},trim:function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(a){return a&&Object.prototype.toString.call(a)==="[object Array]"},replaceExceedEnd:function(a){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",d=0,h,u=a.replace(/<[^>]+>/g,""),_=0;_<(u&&u.length);_++){var v=u.charCodeAt(_);if(v>=19968&&v<=40959?d+=2:d+=1,d>o){h=_;break}}return h&&(u="".concat(u.slice(0,h),"...")),u},uuid:function(){for(var a=[],o="0123456789abcdef",c=0;c<36;c++)a[c]=o.substr(Math.floor(Math.random()*16),1);a[14]="4",a[19]=o.substr(a[19]&3|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d},objectToString:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!a)return!1;var c=o||"&",d="";return Object.keys(a).forEach(function(h,u){d+="".concat(u===0?"":c).concat(h,"=").concat(a[h])}),d},formatPrice:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof a!="number"||Number.isNaN(a))return"\uFFE50.00";var c=parseInt(a,10);if(o===0)return"\uFFE5".concat(Math.floor(c/100));var d=c/100,h=Math.round(d*100)/100,u=h.toString(),_=u.indexOf(".");return _<0&&(_=u.length,u+="."),u.length<=_+parseInt(o,10)&&(u+="00"),"\uFFE5".concat(u)},getSearchObject:function(a){a=a||window.location.search;for(var o=a.replace("?","").split("&"),c={},d=0;d<o.length;d++){var h=o[d].split("="),u=O()(h,2),_=u[0],v=u[1];c[_]||(c[_]=v)}return c},formatDete:function(a){var o=new Date(a),c=o.toLocaleString(),d=String(o),h=c.split(" "),u="",_=h[0].split("/");_=_.map(function(y){return y<10&&(y="0".concat(y)),y});var v=_.join("-"),k=d.split(" ")[4];return u="".concat(v,"   ").concat(k),u}},"isArray",function(a){return Object.prototype.toString.call(a)==="[object Array]"}),"isNonEmptyObject",function(a){return a!==null&&x()(a)==="object"&&!Array.isArray(a)&&Object.keys(a).length>0});E.Z=b},19436:function(L,E,i){var w=i(15009),f=i.n(w),D=i(99289),x=i.n(D),M=i(5574),O=i.n(M),b=i(1848),p=i(71230),a=i(15746),o=i(67294),c=i(85893),d={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},h=function(){var _=(0,o.useState)(d),v=O()(_,2),k=v[0],y=v[1],S=function(){var A=x()(f()().mark(function T(){var j;return f()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,b.Io)();case 2:j=I.sent,j&&j.status===200&&j.data&&y(j.data);case 4:case"end":return I.stop()}},T)}));return function(){return A.apply(this,arguments)}}();return(0,o.useEffect)(function(){S()},[]),(0,c.jsx)(p.Z,{children:(0,c.jsx)(a.Z,{children:(0,c.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(k&&k.name?k.name:"\u65E0\u9879\u76EE")]})})})};E.Z=h},4518:function(L,E){E.Z={w_50:"?x-oss-process=image/resize,w_50,m_lfit",w_100:"?x-oss-process=image/resize,w_100,m_lfit",w_160:"?x-oss-process=image/resize,w_160,m_lfit"}},5348:function(L,E,i){i.r(E),i.d(E,{default:function(){return H}});var w=i(15009),f=i.n(w),D=i(99289),x=i.n(D),M=i(19436),O=i(4518),b=i(92615),p=i(1413),a=i(67294),o=i(509),c=i(91146),d=function(F,N){return a.createElement(c.Z,(0,p.Z)((0,p.Z)({},F),{},{ref:N,icon:o.Z}))};d.displayName="SearchOutlined";var h=a.forwardRef(d),u=i(90930),_=i(14776),v=i(2453),k=i(17788),y=i(96068),S=i(55241),A=i(83622),T=i(71230),j=i(15746),Z=i(34041),I=i(78818),W=i(74330),n=i(85893);function z(){var m=(0,_.useModel)("productList"),F=m.onLoading,N=m.initQueryParams,U=m.pagePagination,K=m.setPagePagination,G=m.pageCurrent,$=m.setPageCurrent,P=m.searchParams,B=m.setSearchParams,V=m.setProductDetail,Q=m.shoppingProductInsertFetch,J=m.delProductFetch,R=m.queryProductAllFetch,X=m.queryProductMainOfferIdFetch,Y=m.productList,q=m.productMainOfferIds,ee=function(r){var e=Object.assign({},P,{language:r});B(e)},ne=function(r){var e=Object.assign({},P,{offer_id:r});B(e)},te=function(r){console.log(r),r&&(V(r),_.history.push("/product/productCreateSku?product_main_id=".concat(r.product_main_id,"&product_id=").concat(r.product_id,"&language=").concat(r.language,"&product_sku_option_status=1")))},ae=function(){var l=x()(f()().mark(function r(e){return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.googleAccess){s.next=6;break}if(!(e&&e.id)){s.next=4;break}return s.next=4,Q(e);case 4:s.next=7;break;case 6:v.ZP.info("\u65E0\u6743\u9650\uFF0C\u540C\u6B65google merchant\u9700\u8981\u9879\u76EE\u7BA1\u7406\u8005\u6743\u9650\u3002");case 7:case"end":return s.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),re=function(r){k.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684SKU",onOk:function(){var e=x()(f()().mark(function s(){return f()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,J(r);case 2:case"end":return C.stop()}},s)}));function t(){return e.apply(this,arguments)}return t}(),onCancel:function(){console.log("Cancel")}})},ie=function(){var l=x()(f()().mark(function r(e){var t;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return $(e),t=Object.assign({},U,{current:Number(e)}),K(t),g.next=5,R();case 5:case"end":return g.stop()}},r)}));return function(e){return l.apply(this,arguments)}}(),se=function(r){var e=Object.assign({},P,{product_type_id:r});B(e)},le=function(){var l=x()(f()().mark(function r(){var e;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e=Object.assign({},U,{current:1}),K(e),s.next=4,R();case 4:case"end":return s.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),ue=function(){var l=x()(f()().mark(function r(){return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return t.next=4,R();case 4:return t.next=6,X();case 6:case"end":return t.stop()}},r)}));return function(){return l.apply(this,arguments)}}(),oe=function(){return[{title:"\u552E\u5356\u89C4\u683C",dataIndex:"saleType",key:"saleType"},{title:"\u89C4\u5219\u540D\u79F0",dataIndex:"saleValue",key:"saleValue"},{title:"\u4EF7\u683C",dataIndex:"price",key:"price",render:function(e,t){var s=[];return t&&t.price&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4EF7\u683C: ".concat(t.price," ").concat(t.monetary_unit)},"".concat(t.price,"_price"))):s.push((0,n.jsx)("span",{children:"-"})),t&&t.sale_price&&t.sale_price&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u4FC3\u9500: ".concat(t.sale_price," ").concat(t.monetary_unit)},"".concat(t.sale_price,"_salePrice"))):s.push((0,n.jsx)("span",{children:"-"})),t&&t.discount&&t.discount&&t.monetary_unit?s.push((0,n.jsx)("span",{children:"\u6298\u6263: ".concat(t.discount,"%")},"".concat(t.discount,"_discount"))):s.push((0,n.jsx)("span",{children:"-"})),s}},{title:"\u5E93\u5B58",dataIndex:"availability",key:"availability",width:60,render:function(e,t){return t.availability==="in_stock"?"\u6709":"\u65E0"}}]},ce={expandedRowRender:function(r){return(0,n.jsx)(y.Z,{rowKey:function(t){return"".concat(t.id,"_").concat(t.language,"_").concat(t.product_id)},dataSource:r.saleSkus,columns:oe()})}};(0,a.useEffect)(function(){ue()},[]);var de=[{title:"\u4E3B\u56FE",dataIndex:"image_link",key:"image_link",fixed:"left",width:60,render:function(r,e){return e&&e.image_link?(0,n.jsx)("img",{src:"".concat(e.image_link).concat(O.Z.w_100),width:50}):"-"}},{title:"\u5546\u54C1\u540D\u79F0",dataIndex:"title",key:"title",fixed:"left",width:120},{title:"\u8D27\u53F7",dataIndex:"offer_id",key:"offer_id",fixed:"left",width:90,render:function(r,e){return(0,n.jsxs)("p",{children:[e.offer_id,(0,n.jsx)("br",{}),e.product_id]})}},{title:"\u63CF\u8FF0",dataIndex:"description",key:"description",width:220,render:function(r,e){if(e&&e.description){var t=b.Z.replaceExceedEnd(e.description,10),s=(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}}),g=b.Z.replaceExceedEnd(e.description,10),C=(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}});return(0,n.jsxs)("div",{className:"table-text clearfix",children:[(0,n.jsx)(S.Z,{content:C,trigger:"click",title:g,children:(0,n.jsxs)(A.ZP,{children:["\u4EAE\u70B9:",g]})}),(0,n.jsx)(S.Z,{content:s,trigger:"click",title:t,children:(0,n.jsxs)(A.ZP,{children:["\u63CF\u8FF0:",t]})})]})}else return"-"}},{title:"GTIN",dataIndex:"gtin",key:"gtin",width:90},{title:"\u94FE\u63A5",dataIndex:"link",key:"link",width:60,render:function(r,e){var t=[];return e.link&&t.push((0,n.jsx)("a",{href:e.link,title:e.link,target:"_blank",rel:"noreferrer",children:"link"},"".concat(e.link,"_link"))),e.mobile_link&&t.push((0,n.jsx)("a",{href:e.mobile_link,title:e.mobile_link,target:"_blank",rel:"noreferrer",children:"mobileLink"},"".concat(e.mobile_link,"_mobileLink"))),!e.link&&!e.mobile_link&&t.push((0,n.jsx)("span",{children:"-"})),t}},{title:"Google\u7C7B\u76EE",dataIndex:"google_product_category",key:"google_product_category",width:110,render:function(r,e){return e.google_product_category&&e.google_product_category.title?e.google_product_category.title:"-"}},{title:"\u5546\u54C1\u5C5E\u6027",dataIndex:"product_detail",key:"product_detail",width:200,render:function(r,e){var t=[];return e.product_detail&&e.product_detail.length&&e.product_detail.map(function(s,g){t.push((0,n.jsxs)("p",{className:"product-attr",children:[(0,n.jsx)("span",{className:"label",children:s.attribute_name})," :"," ",(0,n.jsx)("span",{children:s.attribute_value})]},"".concat(g,"_").concat(s.attribute_name)))}),t}},{title:"\u5546\u54C1\u5C3A\u5BF8",dataIndex:"product_size",key:"product_size",width:200,render:function(r,e){return e.productHeight&&e.productLength&&e.sizeUnit?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"LWH: ".concat(e.productLength,"x").concat(e.productWidth,"x").concat(e.productHeight," ").concat(e.sizeUnit)}),(0,n.jsx)("p",{children:"W: ".concat(e.productWeight," ").concat(e.weightUnit)})]}):"-"}},{title:"\u5C3A\u5BF8",dataIndex:"size",key:"size",width:200,render:function(r,e){return e.size&&e.size_type&&e.size_system?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5C3A\u5BF8: ".concat(e.size)}),(0,n.jsx)("p",{children:"\u5C3A\u7801\u7C7B\u578B: ".concat(e.size_type," \u5C3A\u7801\u4F53\u7CFB: ").concat(e.size_system)})]}):"-"}},{title:"\u8BED\u8A00",dataIndex:"language",key:"language",width:90},{title:"\u9002\u7528\u4EBA\u7FA4",dataIndex:"age_group",key:"age_group",width:120,render:function(r,e){return e.age_group&&e.gender?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"\u5E74\u9F84: ".concat(e.age_group)}),(0,n.jsx)("p",{children:"\u6027\u522B: ".concat(e.gender)})]}):"-"}},{title:"\u8BE6\u60C5\u56FE",dataIndex:"lifestyle_image_link",key:"lifestyle_image_link",width:190,render:function(r,e){var t=[];return e&&b.Z.isArray(e.lifestyle_image_link)&&e.lifestyle_image_link.length>0&&e.lifestyle_image_link.map(function(s,g){t.push((0,n.jsx)("img",{src:"".concat(s).concat(O.Z.w_50),width:30},"".concat(g,"_").concat(s)))}),t}},{title:"\u9644\u52A0\u56FE\u7247",dataIndex:"additional_image_link",key:"additional_image_link",width:200,render:function(r,e){var t=[];return e&&b.Z.isArray(e.additional_image_link)&&e.additional_image_link.length&&e.additional_image_link.map(function(s,g){t.push((0,n.jsx)("img",{src:"".concat(s).concat(O.Z.w_50),width:50},"".concat(g,"_").concat(s)))}),t}},{title:"\u64CD\u4F5C",key:"operate",fixed:"right",width:160,render:function(r,e){return(0,n.jsxs)("div",{className:"operate",children:[(0,n.jsx)("a",{className:"tx",rel:"noreferrer",target:"_blank",href:"https://www.limeetpet.com/detail/".concat(e.language,"/").concat(e.id,"/").concat(e.product_id),children:"\u8BE6\u60C5"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){te(e)},children:"\u7F16\u8F91"}),(0,n.jsx)("span",{className:"line",children:"|"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){re(e)},children:"\u5220\u9664"}),(0,n.jsx)("a",{className:"tx",rel:"nofollow",onClick:function(){ae({id:e.id,language:e.language,googleAccess:e.googleAccess})},children:e.merchant_status>0?"\u66F4\u65B0Merchant":"\u540C\u6B65Merchant"})]})}}];return(0,n.jsxs)(u._z,{children:[(0,n.jsx)("div",{className:"page",children:(0,n.jsxs)("div",{className:"product-list",children:[(0,n.jsx)(M.Z,{}),(0,n.jsx)("div",{className:"header",children:(0,n.jsxs)(T.Z,{children:[(0,n.jsx)(j.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u9009\u62E9\u8BED\u8A00:"}),(0,n.jsx)(Z.Z,{defaultValue:P.language,value:P.language,style:{width:120},onChange:ee,options:P.languageOption})]})}),(0,n.jsx)(j.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u81EA\u5B9A\u5206\u7C7B:"}),(0,n.jsx)(Z.Z,{value:P.product_type_id,style:{width:150},onChange:se,options:P.productTypeOption})]})}),(0,n.jsx)(j.Z,{span:6,children:(0,n.jsxs)("div",{className:"form-item",children:[(0,n.jsx)("span",{className:"label",children:"\u5546\u54C1\u8D27\u53F7:"}),(0,n.jsx)(Z.Z,{value:P.offer_id,style:{width:150},onChange:ne,options:q})]})}),(0,n.jsx)(j.Z,{span:6,children:(0,n.jsx)("div",{className:"form-item",children:(0,n.jsx)(A.ZP,{type:"primary",icon:(0,n.jsx)(h,{}),onClick:le,style:{width:200},children:"\u641C\u7D22"})})})]})}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)(y.Z,{rowKey:function(r){return"".concat(r.id,"_").concat(r.language,"_").concat(r.title)},dataSource:Y,columns:de,scroll:{x:1300},size:"small",expandable:ce,pagination:!1}),(0,n.jsx)(I.Z,{align:"end",total:U.total,pageSize:U.pageSize,current:G,onChange:ie})]}),(0,n.jsx)("div",{className:"footer"})]})}),(0,n.jsx)(W.Z,{size:"large",spinning:F,fullscreen:!0})]})}var H=z}}]);
