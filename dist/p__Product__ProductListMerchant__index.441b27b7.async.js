"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[147],{19436:function(Y,M,t){var k=t(15009),m=t.n(k),R=t(99289),S=t.n(R),W=t(5574),T=t.n(W),U=t(1848),Z=t(71230),u=t(15746),o=t(67294),P=t(85893),B={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},K=function(){var z=(0,o.useState)(B),L=T()(z,2),y=L[0],N=L[1],G=function(){var F=S()(m()().mark(function A(){var p;return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,U.Io)();case 2:p=f.sent,p&&p.status===200&&p.data&&N(p.data);case 4:case"end":return f.stop()}},A)}));return function(){return F.apply(this,arguments)}}();return(0,o.useEffect)(function(){G()},[]),(0,P.jsx)(Z.Z,{children:(0,P.jsx)(u.Z,{children:(0,P.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(y&&y.name?y.name:"\u65E0\u9879\u76EE")]})})})};M.Z=K},37439:function(Y,M,t){t.r(M),t.d(M,{default:function(){return ie}});var k=t(15009),m=t.n(k),R=t(99289),S=t.n(R),W=t(5574),T=t.n(W),U=t(19436),Z=t(8561),u=t(1413),o=t(67294),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},B=P,K=t(91146),H=function(r,c){return o.createElement(K.Z,(0,u.Z)((0,u.Z)({},r),{},{ref:c,icon:B}))};H.displayName="ExclamationCircleOutlined";var z=o.forwardRef(H),L=t(91),y=t(56874),N=t(87462),G=t(29245),F=t(32867),A=function(r,c){return o.createElement(F.Z,(0,N.Z)({},r,{ref:c,icon:G.Z}))},p=o.forwardRef(A),$=p,f=t(86413),Q=t(21532),V=t(85418),w=t(83622),q=t(93967),J=t.n(q),a=t(85893),ee=["key","name"],te=function(r){var c=r.children,h=r.menus,d=r.onSelect,x=r.className,j=r.style,I=(0,o.useContext)(Q.ZP.ConfigContext),v=I.getPrefixCls,C=v("pro-table-dropdown"),O=(0,f.Q)({onClick:function(s){return d&&d(s.key)},items:h==null?void 0:h.map(function(g){return{label:g.name,key:g.key}})});return(0,a.jsx)(V.Z,(0,u.Z)((0,u.Z)({},O),{},{className:J()(C,x),children:(0,a.jsxs)(w.ZP,{style:j,children:[c," ",(0,a.jsx)(y.Z,{})]})}))},X=function(r){var c=r.className,h=r.style,d=r.onSelect,x=r.menus,j=x===void 0?[]:x,I=r.children,v=(0,o.useContext)(Q.ZP.ConfigContext),C=v.getPrefixCls,O=C("pro-table-dropdown"),g=(0,f.Q)({onClick:function(l){d==null||d(l.key)},items:j.map(function(s){var l=s.key,e=s.name,n=(0,L.Z)(s,ee);return(0,u.Z)((0,u.Z)({key:l},n),{},{title:n.title,label:e})})});return(0,a.jsx)(V.Z,(0,u.Z)((0,u.Z)({},g),{},{className:J()(O,c),children:(0,a.jsx)("a",{style:h,children:I||(0,a.jsx)($,{})})}))};X.Button=te;var ne=X,ae=t(90930),le=t(87273),b=t(2453),se=t(17788),re=t(74330),ie=function(){var E=(0,o.useRef)(),r=(0,o.useState)({action:"init"}),c=T()(r,2),h=c[0],d=c[1],x=(0,o.useState)(!1),j=T()(x,2),I=j[0],v=j[1],C=function(){var s=S()(m()().mark(function l(e){var n,_,i;return m()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return n=e.projectId,_=e.merchant_product_id,v(!0),D.next=4,(0,Z.s4)({projectId:n,merchant_product_id:_});case 4:i=D.sent,i&&i.status===200&&i.data?(d({action:"delete"}),v(!1),b.ZP.success("\u5220\u9664\u6210\u529F")):(v(!1),b.ZP.error("\u5220\u9664\u5931\u8D25"));case 6:case"end":return D.stop()}},l)}));return function(e){return s.apply(this,arguments)}}(),O=function(l,e){e.googleAccess?(d({action:"init"}),l==="delete"&&e.projectId&&e.merchant_product_id?se.Z.confirm({icon:(0,a.jsx)(z,{}),content:"\u786E\u8BA4\u5220\u9664\u5F53\u524D\u6570\u636E",onOk:function(){C({projectId:e.projectId,merchant_product_id:e.merchant_product_id}),console.log("OK")},onCancel:function(){console.log("Cancel")}}):b.ZP.info("\u7F3A\u5C11\u53C2\u6570")):b.ZP.info("\u65E0\u6743\u9650\uFF0C\u540C\u6B65google merchant\u9700\u8981\u9879\u76EE\u7BA1\u7406\u8005\u6743\u9650\u3002")},g=[{title:"\u4E3B\u56FE",dataIndex:"imageLink",key:"imageLink",valueType:"image"},{title:"\u540D\u79F0",dataIndex:"title",ellipsis:!0},{title:"offerId",dataIndex:"offerId",filters:!0,onFilter:!0,ellipsis:!0,valueType:"select",valueEnum:{all:{text:"\u8D85\u957F".repeat(50)},open:{text:"\u672A\u89E3\u51B3",status:"Error"},closed:{text:"\u5DF2\u89E3\u51B3",status:"Success",disabled:!0},processing:{text:"\u89E3\u51B3\u4E2D",status:"Processing"}}},{disable:!0,title:"\u63CF\u8FF0",ellipsis:!0,dataIndex:"description",render:function(l,e){return(0,a.jsx)("span",{className:"table-text clearfix",dangerouslySetInnerHTML:{__html:e.description}})}},{disable:!0,title:"\u4EAE\u70B9",ellipsis:!0,dataIndex:"productHighlights",render:function(l,e){return(0,a.jsx)("span",{className:"table-text clearfix",dangerouslySetInnerHTML:{__html:e.productHighlights}})}},{title:"\u4EF7\u683C",dataIndex:"price",key:"price",fixed:"left",width:100,render:function(l,e){var n=[];return e&&e.price&&e.price.value&&e.price.currency?n.push("price: ".concat(e.price.value," ").concat(e.price.currency)):n.push((0,a.jsx)("span",{children:"-"})),e&&e.salePrice&&e.salePrice.value&&e.salePrice.currency?n.push("salePrice: ".concat(e.salePrice.value," ").concat(e.salePrice.currency)):n.push((0,a.jsx)("span",{children:"-"})),n}},{title:"\u56FD\u5BB6",key:"targetCountry",ellipsis:!0,dataIndex:"targetCountry",hideInSearch:!0},{title:"\u8BED\u8A00",key:"contentLanguage",ellipsis:!0,dataIndex:"contentLanguage",hideInSearch:!0},{title:"\u72B6\u6001",key:"channel",ellipsis:!0,dataIndex:"channel",hideInSearch:!0},{title:"\u94FE\u63A5",key:"link",dataIndex:"link",hideInSearch:!0,render:function(l,e){var n=[];return e.link&&n.push((0,a.jsx)("a",{href:e.link,title:e.link,target:"_blank",rel:"noreferrer",children:"link"})),e.mobileLink&&n.push((0,a.jsx)("a",{href:e.link,title:e.mobileLink,target:"_blank",rel:"noreferrer",children:"mobileLink"})),!e.link&&!e.mobileLink&&n.push((0,a.jsx)("span",{children:"-"})),n}},{title:"\u5C3A\u5BF8&\u91CD\u91CF",key:"product_size",dataIndex:"product_size",render:function(l,e){var n=[];return e&&e.productHeight&&e.productHeight.velue&&e.productHeight.unit&&n.push((0,a.jsxs)("span",{className:"size",children:["LWH:","".concat(e.productLength.velue,"x").concat(e.productWidth.value,"x").concat(e.productHeight.value," ").concat(e.productHeight.unit)]})),e&&e.productWeight&&e.productWeight.velue&&e.productWeight&&n.push((0,a.jsxs)("span",{children:["W:","".concat(e.productWeight.velue," ").concat(e.productWeight.unit)]})),!e.link&&!e.mobileLink&&n.push((0,a.jsx)("span",{children:"-"})),n}},{title:"\u66F4\u65B0\u65F6\u95F4",key:"updatedAt",dataIndex:"updatedAt",hideInSearch:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",hideInTable:!0},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(l,e){return[(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:"\u67E5\u770B"},"view"),(0,a.jsx)(ne,{onSelect:function(_){O(_,e)},menus:[{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];return(0,a.jsxs)(ae._z,{children:[(0,a.jsx)(U.Z,{}),(0,a.jsx)(le.Z,{columns:g,actionRef:E,params:h,request:function(){var s=S()(m()().mark(function l(e){var n;return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,Z.nO)({current:e.current,pageSize:e.pageSize});case 2:if(n=i.sent,!(n&&n.status===200&&n.data)){i.next=7;break}return i.abrupt("return",{success:!0,data:n.data.rows,total:n.data.count});case 7:return i.abrupt("return",{success:!1,data:[],total:0});case 8:case"end":return i.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),editable:{type:"multiple"},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",defaultValue:{option:{fixed:"right",disable:!0}},onChange:function(l){console.log("value: ",l)}},rowKey:"id",search:{labelWidth:"auto"},options:{setting:{listsHeight:400}},pagination:{pageSize:20},dateFormatter:"string",headerTitle:"Merchant Product List"}),(0,a.jsx)(re.Z,{size:"large",spinning:I,fullscreen:!0})]})}}}]);
