"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[721],{19436:function(we,Z,u){var $=u(15009),f=u.n($),K=u(99289),j=u.n(K),W=u(5574),g=u.n(W),J=u(1848),z=u(71230),re=u(15746),Y=u(67294),U=u(85893),ne={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},ae=function(){var ue=(0,Y.useState)(ne),A=g()(ue,2),N=A[0],T=A[1],se=function(){var b=j()(f()().mark(function G(){var x;return f()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,J.Io)();case 2:x=I.sent,x&&x.status===200&&x.data&&T(x.data);case 4:case"end":return I.stop()}},G)}));return function(){return b.apply(this,arguments)}}();return(0,Y.useEffect)(function(){se()},[]),(0,U.jsx)(z.Z,{children:(0,U.jsx)(re.Z,{children:(0,U.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(N&&N.name?N.name:"\u65E0\u9879\u76EE")]})})})};Z.Z=ae},7822:function(we,Z,u){u.r(Z),u.d(Z,{default:function(){return ke}});var $=u(15009),f=u.n($),K=u(99289),j=u.n(K),W=u(5574),g=u.n(W),J=u(19436),z=u(14776),re=null,Y=null,U=null,ne=null;function ae(s){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/user/currentUser",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),B.apply(this,arguments)}function ue(s){return A.apply(this,arguments)}function A(){return A=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/user/outLogin",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),A.apply(this,arguments)}function N(s){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/user/login",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),T.apply(this,arguments)}function se(s){return b.apply(this,arguments)}function b(){return b=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/user/register",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),b.apply(this,arguments)}function G(s){return x.apply(this,arguments)}function x(){return x=j()(f()().mark(function s(i){return f()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,z.request)("/api/user/getUserEmail",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),x.apply(this,arguments)}function Pe(s){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/notices",{method:"GET",data:i}));case 1:case"end":return t.stop()}},s)})),I.apply(this,arguments)}function it(s){return H.apply(this,arguments)}function H(){return H=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/rule",{method:"GET",data:i}));case 1:case"end":return t.stop()}},s)})),H.apply(this,arguments)}function lt(s){return Q.apply(this,arguments)}function Q(){return Q=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/rule",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),Q.apply(this,arguments)}function ot(s){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/rule",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),V.apply(this,arguments)}function dt(s){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime().mark(function s(i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/api/rule",{method:"POST",data:i}));case 1:case"end":return t.stop()}},s)})),X.apply(this,arguments)}var O=u(1848),Ae=u(40110),De=u(51042),Ce=u(90930),S=u(55102),E=u(2453),Te=u(71230),ce=u(15746),q=u(83622),ee=u(96074),ie=u(96068),le=u(17788),be=u(72269),R=u(26412),v=u(67294),Oe=u(79123),mt=u(47780),e=u(85893),Re=S.Z.Search,oe={merchantId:"",accountId:""},de={accountId:"",name:"",merchantId:"",projectId:"",websiteUrl:"",state:!1,user_ids:""},ke=function(){var s=(0,v.useState)(!1),i=g()(s,2),d=i[0],t=i[1],k=(0,v.useState)(!1),me=g()(k,2),Fe=me[0],w=me[1],Ze=(0,v.useState)(oe),fe=g()(Ze,2),he=fe[0],pe=fe[1],Ue=(0,v.useState)(!1),ge=g()(Ue,2),Be=ge[0],F=ge[1],Ne=(0,v.useState)(!1),ve=g()(Ne,2),Ge=ve[0],te=ve[1],Me=(0,v.useState)(de),_e=g()(Me,2),h=_e[0],P=_e[1],Le=(0,v.useState)({rows:[]}),je=g()(Le,2),xe=je[0],$e=je[1],Ke=(0,v.useState)(""),Ie=g()(Ke,2),We=Ie[0],Je=Ie[1],ze=(0,v.useState)({}),Ee=g()(ze,2),y=Ee[0],Ye=Ee[1],He=(0,v.useState)([]),ye=g()(He,2),D=ye[0],M=ye[1],C=function(){var c=j()(f()().mark(function r(){var n;return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,O.YK)();case 2:n=o.sent,n&&n.status===200&&n.data?$e(n.data):E.ZP.error(n.msg);case 4:case"end":return o.stop()}},r)}));return function(){return c.apply(this,arguments)}}(),Qe=function(){var c=j()(f()().mark(function r(n){var a;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,O.Rh)({accountId:n});case 2:a=l.sent,a&&a.status===200&&a.data&&(C(),E.ZP.success("\u8BBE\u7F6E\u6210\u529F"));case 4:case"end":return l.stop()}},r)}));return function(n){return c.apply(this,arguments)}}(),Ve=function(r){var n=[],a=[];D&&D.map(function(p){r!==p.email&&(n.push(p),a.push(p.id))});var o=a.join(","),l=Object.assign({},h,{user_ids:o});P(l),M(n)},Xe=[{title:"\u8D26\u53F7ID",dataIndex:"accountId",key:"accountId"},{title:"name",dataIndex:"name",key:"name"},{title:"\u9879\u76EEID",dataIndex:"projectId",key:"projectId"},{title:"\u7F51\u7AD9",dataIndex:"websiteUrl",key:"websiteUrl"},{title:"\u72B6\u6001",dataIndex:"state",key:"state",render:function(r,n){return n.state?"\u5F00\u542F":"\u5173\u95ED"}},{title:"\u64CD\u4F5C",key:"operate",render:function(r,n){var a=[];return a.push((0,e.jsx)("a",{onClick:function(){t(!0),F(!0),P(n),M(n.userList)},children:"\u7F16\u8F91"},"".concat(n.projectId,"_edit"))),a.push((0,e.jsx)("span",{children:" | "},"".concat(n.projectId,"_span"))),a.push(n.defaultState?"\u9ED8\u8BA4\u9879\u76EE":(0,e.jsx)("a",{onClick:function(){return Qe(n.accountId)},children:"\u8BBE\u7F6E\u9ED8\u8BA4\u4E3A\u9879\u76EE"},"".concat(n.projectId,"_default"))),a}}],qe=[{title:"\u7528\u6237ID",dataIndex:"id",key:"id"},{title:"\u90AE\u7BB1",dataIndex:"email",key:"email"},{title:"Nickname",dataIndex:"nickname",key:"nickname"},{title:"\u64CD\u4F5C",key:"operate",render:function(r,n){return(0,e.jsx)("a",{onClick:function(){return Ve(n.email)},children:"\u5220\u9664"},n.email)}}],et=function(){var c=j()(f()().mark(function r(n){var a,o,l;return f()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return a=n.merchantId,o=n.accountId,_.next=3,(0,O.lO)({accountId:o,merchantId:a});case 3:l=_.sent,l&&l.status===200&&l.data&&P(l.data);case 5:case"end":return _.stop()}},r)}));return function(n){return c.apply(this,arguments)}}(),tt=function(){var c=j()(f()().mark(function r(n){var a;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return w(!0),l.next=3,G({email:n});case 3:a=l.sent,a&&a.status===200&&a.data?(Ye(a.data),w(!1)):(w(!1),a&&a.msg&&E.ZP.error(a.msg));case 5:case"end":return l.stop()}},r)}));return function(n){return c.apply(this,arguments)}}(),rt=function(){if(y){var r=[],n={};if(D.forEach(function(p){n[p.email]=Object.assign({},p)}),n[y.email])return E.ZP.error("\u5DF2\u7ECF\u6DFB\u52A0\u4E86\u6B64\u8D26\u53F7"),!1;D.push(y);var a=JSON.parse(JSON.stringify(D));M(a),te(!1),a&&a.forEach(function(p){r.push(p.id)});var o=r.join(","),l=Object.assign({},h,{user_ids:o});P(l)}},nt=function(){var c=j()(f()().mark(function r(){var n,a,o,l,p,_;return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=h.accountId,a=h.name,o=h.websiteUrl,l=h.user_ids,!(a&&o&&l&&n)){m.next=37;break}if(!d){m.next=20;break}return w(!0),m.next=6,(0,O.ty)(h);case 6:if(p=m.sent,!(p&&p.status===200&&p.data)){m.next=17;break}return m.next=10,C();case 10:return E.ZP.info("\u9879\u76EE\u66F4\u65B0\u6210\u529F"),w(!1),F(!1),m.next=15,C();case 15:m.next=18;break;case 17:E.ZP.error("\u63A5\u53E3\u8BF7\u6C42\u9519\u8BEF");case 18:m.next=35;break;case 20:return w(!0),m.next=23,(0,O.FW)(h);case 23:if(_=m.sent,!(_&&_.status===200&&_.data)){m.next=34;break}return m.next=27,C();case 27:return E.ZP.info("\u521B\u5EFA\u9879\u76EE\u6210\u529F\uFF01"),w(!1),F(!1),m.next=32,C();case 32:m.next=35;break;case 34:E.ZP.error("\u63A5\u53E3\u8BF7\u6C42\u9519\u8BEF");case 35:m.next=38;break;case 37:E.ZP.error("\u7F3A\u5C11\u53C2\u6570");case 38:case"end":return m.stop()}},r)}));return function(){return c.apply(this,arguments)}}(),at=function(){F(!1)},ut=function(r){var n=Object.assign({},h,{state:r});P(n)},L=function(r,n){var a=n.target.value,o={};o[r]=a;var l=Object.assign({},h,o);P(l)},Se=function(r,n){var a=n.target.value,o={};o[r]=a;var l=Object.assign({},he,o);pe(l)},st=function(){var c=j()(f()().mark(function r(){return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,et(he);case 2:case"end":return a.stop()}},r)}));return function(){return c.apply(this,arguments)}}(),ct=function(){pe(oe)};return(0,v.useEffect)(function(){C()},[]),(0,e.jsxs)(Ce._z,{className:"project-group",children:[(0,e.jsxs)("div",{className:"google-account",children:[(0,e.jsx)(J.Z,{}),(0,e.jsx)("div",{className:"header",children:(0,e.jsx)("h3",{children:"\u9A8C\u8BC1&\u67E5\u8BE2 Google Merchant \u8D26\u53F7\u4FE1\u606F"})}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsx)("div",{className:"input",children:(0,e.jsx)("div",{className:"account-search",children:(0,e.jsxs)(Te.Z,{children:[(0,e.jsxs)(ce.Z,{span:14,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"label",children:"Merchant ID"}),(0,e.jsx)(S.Z,{onChange:function(r){return Se("merchantId",r)},name:"merchantId",placeholder:"input Merchant ID"},"merchantId")]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{className:"label",children:"AccountId ID"}),(0,e.jsx)(S.Z,{onChange:function(r){return Se("accountId",r)},name:"accountId",placeholder:"input AccountId ID"},"accountId")]})]}),(0,e.jsx)(ce.Z,{span:10,children:(0,e.jsxs)("div",{className:"button",children:[(0,e.jsx)(q.ZP,{type:"primary",icon:(0,e.jsx)(Ae.Z,{}),onClick:st,children:"\u67E5\u8BE2"})," ",(0,e.jsx)(q.ZP,{onClick:ct,children:"\u91CD\u7F6E"})]})})]})})}),(0,e.jsx)("div",{className:"text"}),(0,e.jsx)("div",{className:"account-info",children:(0,e.jsx)("div",{className:"data",children:h.name&&(0,e.jsx)(Oe.ZP,{src:h})})})]}),(0,e.jsx)("div",{className:"footer"})]}),(0,e.jsx)(ee.Z,{}),(0,e.jsxs)("div",{className:"table-box",children:[(0,e.jsx)("div",{className:"button-new",children:(0,e.jsxs)(q.ZP,{type:"primary",onClick:function(){t(!1),F(!0),P(de),M([])},children:[(0,e.jsx)(De.Z,{}),"\u65B0\u5EFA\u9879\u76EE"]})}),(0,e.jsx)(ie.Z,{rowKey:function(r){return r.accountId},dataSource:xe&&xe.rows,columns:Xe,pagination:!1},"xjxm")]}),(0,e.jsxs)(le.Z,{open:Be,title:"".concat(d?"\u7F16\u8F91\u9879\u76EE\u4FE1\u606F":"\u521B\u5EFA\u65B0\u9879\u76EE"),width:750,onCancel:at,onOk:nt,children:[(0,e.jsxs)("div",{className:"box",children:[(0,e.jsx)("span",{className:"label",children:"\u9879\u76EE\u540D\u79F0"}),(0,e.jsx)(S.Z,{width:"md",name:"name",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",value:h.name,onChange:function(r){return L("name",r)}}),(0,e.jsx)("span",{className:"label",children:"\u5546\u5BB6\u7684\u7F51\u7AD9"}),(0,e.jsx)(S.Z,{width:"md",name:"websiteUrl",placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9",value:h.websiteUrl,onChange:function(r){return L("websiteUrl",r)}})]}),(0,e.jsx)(ee.Z,{}),(0,e.jsxs)("div",{className:"box",children:[(0,e.jsx)("span",{className:"label",children:"\u8D26\u6237ID"}),(0,e.jsx)(S.Z,{width:"md",name:"accountId",placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9ID",value:h.accountId,onChange:function(r){return L("accountId",r)}}),(0,e.jsx)("span",{className:"label",children:"\u9879\u76EE\u72B6\u6001"}),(0,e.jsx)(be.Z,{onChange:ut,checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED"})]}),(0,e.jsxs)("div",{className:"box",children:[(0,e.jsx)("span",{className:"label",children:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7"}),(0,e.jsx)(S.Z,{width:"md",name:"user_ids",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID','\u9694\u5F00",value:h.user_ids,disabled:!0,onChange:function(r){return L("user_ids",r)}})]}),(0,e.jsx)(ee.Z,{}),(0,e.jsx)("div",{children:(0,e.jsxs)("div",{className:"user-ids",children:[(0,e.jsxs)("div",{className:"header",children:[(0,e.jsx)("h3",{children:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7"}),(0,e.jsx)("a",{onClick:function(){te(!0)},children:"\u6DFB\u52A0\u7528\u6237"})]}),(0,e.jsx)("div",{className:"table-box",children:(0,e.jsx)(ie.Z,{rowKey:function(r){return r.email},dataSource:D,columns:qe,pagination:!1},"yhlb")})]})})]}),(0,e.jsxs)(le.Z,{title:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7",okText:"\u786E\u8BA4\u6DFB\u52A0\u6B64\u8D26\u53F7",width:600,open:Ge,onCancel:function(){te(!1)},onOk:rt,children:[(0,e.jsx)(Re,{placeholder:"input search email",value:We,onChange:function(r){Je(r.target.value)},enterButton:"\u67E5\u8BE2\u7528\u6237",size:"large",loading:Fe,onSearch:tt}),y&&(0,e.jsxs)(R.Z,{title:"\u7528\u6237\u4FE1\u606F",children:[(0,e.jsx)(R.Z.Item,{label:"ID",children:y.id},"ID"),(0,e.jsx)(R.Z.Item,{label:"Nickname",children:y.nickname},"Nickname"),(0,e.jsx)(R.Z.Item,{label:"Email",children:y.email},"Email"),(0,e.jsx)(R.Z.Item,{label:"\u9879\u76EEID",children:y.projectId},"xmid")]})]})]})}}}]);
