"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[7784],{19436:function(he,T,a){var k=a(15009),d=a.n(k),B=a(99289),h=a.n(B),G=a(5574),f=a.n(G),M=a(1848),Z=a(71230),H=a(15746),$=a(67294),P=a(85893),Q={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},X=function(){var q=(0,$.useState)(Q),j=f()(q,2),A=j[0],I=j[1],ee=function(){var F=h()(d()().mark(function O(){var _;return d()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,M.Io)();case 2:_=g.sent,_&&_.status===200&&_.data&&I(_.data);case 4:case"end":return g.stop()}},O)}));return function(){return F.apply(this,arguments)}}();return(0,$.useEffect)(function(){ee()},[]),(0,P.jsx)(Z.Z,{children:(0,P.jsx)(H.Z,{children:(0,P.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(A&&A.name?A.name:"\u65E0\u9879\u76EE")]})})})};T.Z=X},32842:function(he,T,a){a.r(T),a.d(T,{default:function(){return Se}});var k=a(15009),d=a.n(k),B=a(99289),h=a.n(B),G=a(5574),f=a.n(G),M=a(19436),Z=a(14776),H=null,$=null,P=null,Q=null;function X(s){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/user/currentUser",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),R.apply(this,arguments)}function q(s){return j.apply(this,arguments)}function j(){return j=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/user/outLogin",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),j.apply(this,arguments)}function A(s){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/user/login",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),I.apply(this,arguments)}function ee(s){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/user/register",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),F.apply(this,arguments)}function O(s){return _.apply(this,arguments)}function _(){return _=h()(d()().mark(function s(o){return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,Z.request)("/api/user/getUserEmail",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),_.apply(this,arguments)}function pe(s){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/notices",{method:"GET",data:o}));case 1:case"end":return e.stop()}},s)})),g.apply(this,arguments)}function qe(s){return L.apply(this,arguments)}function L(){return L=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/rule",{method:"GET",data:o}));case 1:case"end":return e.stop()}},s)})),L.apply(this,arguments)}function et(s){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/rule",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),N.apply(this,arguments)}function tt(s){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/rule",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),K.apply(this,arguments)}function rt(s){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function s(o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/rule",{method:"POST",data:o}));case 1:case"end":return e.stop()}},s)})),W.apply(this,arguments)}var C=a(1848),_e=a(51042),ge=a(90930),S=a(34994),E=a(5966),ve=a(37476),je=a(52688),Ee=a(55102),te=a(59586),x=a(2453),xe=a(83622),re=a(96068),ye=a(17788),U=a(26412),p=a(67294),Ie=a(79123),at=a(47780),t=a(85893),Fe=Ee.Z.Search,Se=function(){var s=(0,p.useRef)(),o=te.Z.useForm(),m=f()(o,1),e=m[0],w=te.Z.useForm(),we=f()(w,1),De=we[0],Te=(0,p.useState)(!1),ae=f()(Te,2),Pe=ae[0],J=ae[1],Re=(0,p.useState)(!1),ne=f()(Re,2),Ae=ne[0],b=ne[1],Oe=(0,p.useState)(!1),ue=f()(Oe,2),Ce=ue[0],V=ue[1],Ue=(0,p.useState)(null),se=f()(Ue,2),le=se[0],be=se[1],ke=(0,p.useState)({rows:[]}),oe=f()(ke,2),ie=oe[0],Be=oe[1],Ge=(0,p.useState)(""),ce=f()(Ge,2),Me=ce[0],Ze=ce[1],$e=(0,p.useState)(),de=f()($e,2),v=de[0],Le=de[1],Ne=(0,p.useState)([]),me=f()(Ne,2),y=me[0],z=me[1],Y=function(){var i=h()(d()().mark(function n(){var r;return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,C.YK)();case 2:r=c.sent,r&&r.status===200&&r.data?Be(r.data):x.ZP.error(r.msg);case 4:case"end":return c.stop()}},n)}));return function(){return i.apply(this,arguments)}}(),Ke=function(){var i=h()(d()().mark(function n(r){var u;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,C.Rh)({accountId:r});case 2:u=l.sent,u&&u.status===200&&u.data&&(Y(),x.ZP.success("\u8BBE\u7F6E\u6210\u529F"));case 4:case"end":return l.stop()}},n)}));return function(r){return i.apply(this,arguments)}}(),We=function(n){var r=[],u=[];y&&y.map(function(l){n!==l.email&&(r.push(l),u.push(l.id))});var c=u.join(",");e.setFieldValue("user_ids",c),z(r)},Je=function(n){e.setFieldsValue(n),b(!0),z(n.userList)},Ve=[{title:"\u8D26\u53F7ID",dataIndex:"accountId",key:"accountId"},{title:"name",dataIndex:"name",key:"name"},{title:"\u9879\u76EEID",dataIndex:"projectId",key:"projectId"},{title:"\u7F51\u7AD9",dataIndex:"websiteUrl",key:"websiteUrl"},{title:"\u72B6\u6001",dataIndex:"state",key:"state",render:function(n,r){return r.state?"\u5F00\u542F":"\u5173\u95ED"}},{title:"\u64CD\u4F5C",key:"operate",render:function(n,r){var u=[];return u.push((0,t.jsx)("a",{onClick:function(){Je(r)},children:"\u7F16\u8F91"},"".concat(r.projectId,"_edit"))),u.push((0,t.jsx)("span",{children:" | "},"".concat(r.projectId,"_span"))),u.push(r.defaultState?"\u9ED8\u8BA4\u9879\u76EE":(0,t.jsx)("a",{onClick:function(){return Ke(r.accountId)},children:"\u8BBE\u7F6E\u9ED8\u8BA4\u4E3A\u9879\u76EE"},"".concat(r.projectId,"_default"))),u}}],ze=[{title:"\u90AE\u7BB1",dataIndex:"email",key:"email"},{title:"Nickname",dataIndex:"nickname",key:"nickname"},{title:"\u64CD\u4F5C",key:"operate",render:function(n,r){return(0,t.jsx)("a",{onClick:function(){return We(r.email)},children:"\u5220\u9664"},r.email)}}],Ye=function(){var i=h()(d()().mark(function n(r){var u;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,C.FW)(r);case 2:u=l.sent,u&&u.status===200&&u.data?(Y(),x.ZP.info("\u521B\u5EFA\u9879\u76EE\u6210\u529F\uFF01")):x.ZP.error(u.msg);case 4:case"end":return l.stop()}},n)}));return function(r){return i.apply(this,arguments)}}(),He=function(){var i=h()(d()().mark(function n(r){var u,c,l,fe;return d()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return u=r.merchantId,c=r.accountId,D.next=3,(0,C.lO)({accountId:c,merchantId:u});case 3:l=D.sent,l&&l.status===200&&l.data&&(be(l.data),fe=Object.assign({},l.data,{accountId:l.data.id,state:!0,defaultState:!1}),e.setFieldsValue(fe));case 5:case"end":return D.stop()}},n)}));return function(r){return i.apply(this,arguments)}}(),Qe=function(){var i=h()(d()().mark(function n(r){var u;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return J(!0),l.next=3,O({email:r});case 3:u=l.sent,u&&u.status===200&&u.data?(Le(u.data),J(!1)):(J(!1),x.ZP.error(u.msg));case 5:case"end":return l.stop()}},n)}));return function(r){return i.apply(this,arguments)}}(),Xe=function(){if(v){var n=[],r={};if(y.forEach(function(l){r[l.email]=Object.assign({},l)}),r[v.email])return x.ZP.error("\u5DF2\u7ECF\u6DFB\u52A0\u4E86\u6B64\u8D26\u53F7"),!1;y.push(v);var u=JSON.parse(JSON.stringify(y));z(u),V(!1),u&&u.forEach(function(l){n.push(l.id)});var c=n.join(",");e.setFieldValue("user_ids",c)}};return(0,p.useEffect)(function(){Y()},[]),(0,t.jsxs)(ge._z,{className:"project-group",children:[(0,t.jsxs)("div",{className:"google-account",children:[(0,t.jsx)(M.Z,{}),(0,t.jsx)("div",{className:"header",children:(0,t.jsx)("h3",{children:"\u9A8C\u8BC1&\u67E5\u8BE2 Google Merchant \u8D26\u53F7\u4FE1\u606F"})}),(0,t.jsxs)("div",{className:"content",children:[(0,t.jsx)("div",{className:"input",children:(0,t.jsxs)(S.A,{form:De,layout:"inline",initialValues:{layout:"inline"},grid:!0,rowProps:{gutter:[16,16]},onFinish:function(){var i=h()(d()().mark(function n(r){return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:He(r);case 1:case"end":return c.stop()}},n)}));return function(n){return i.apply(this,arguments)}}(),children:[(0,t.jsx)(E.Z,{name:"merchantId",label:"Merchant ID",placeholder:"input Merchant ID"},"merchantId"),(0,t.jsx)(E.Z,{name:"accountId",label:"AccountId ID",placeholder:"input AccountId ID"},"accountId")]})}),(0,t.jsx)("div",{className:"text"}),(0,t.jsx)("div",{className:"account-info",children:(0,t.jsx)("div",{className:"data",children:le&&(0,t.jsx)(Ie.ZP,{src:le})})})]}),(0,t.jsx)("div",{className:"footer"})]}),(0,t.jsxs)("div",{className:"table-box",children:[(0,t.jsx)("div",{className:"button-new",children:(0,t.jsxs)(xe.ZP,{type:"primary",onClick:function(){b(!0)},children:[(0,t.jsx)(_e.Z,{}),"\u65B0\u5EFA\u9879\u76EE"]})}),(0,t.jsx)(re.Z,{rowKey:function(n){return n.accountId},dataSource:ie&&ie.rows,columns:Ve,pagination:!1},"xjxm")]}),(0,t.jsxs)(ve.Y,{open:Ae,onOpenChange:b,onFinish:function(){var i=h()(d()().mark(function n(r){return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:Ye(r),b(!1);case 2:case"end":return c.stop()}},n)}));return function(n){return i.apply(this,arguments)}}(),formRef:s,autoFocusFirstInput:!0,form:e,children:[(0,t.jsxs)(S.A.Group,{children:[(0,t.jsx)(E.Z,{width:"md",name:"name",required:!0,label:"\u9879\u76EE\u540D\u79F0",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",disabled:!0,rules:[{required:!0,message:"\u8FD9\u662F\u5FC5\u586B\u9879"}]}),(0,t.jsx)(E.Z,{width:"md",name:"websiteUrl",label:"\u5546\u5BB6\u7684\u7F51\u7AD9",placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9",disabled:!0})]}),(0,t.jsxs)(S.A.Group,{children:[(0,t.jsx)(E.Z,{width:"md",name:"accountId",label:"\u8D26\u6237ID",placeholder:"\u8BF7\u8F93\u5165\u7F51\u7AD9ID",disabled:!0}),(0,t.jsx)(je.Z,{name:"state",checkedChildren:"\u5F00\u542F",unCheckedChildren:"\u5173\u95ED",label:"\u9879\u76EE\u72B6\u6001"})]}),(0,t.jsx)(S.A.Group,{children:(0,t.jsx)(E.Z,{width:"md",name:"user_ids",label:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID','\u9694\u5F00",disabled:!0})}),(0,t.jsx)(S.A.Group,{children:(0,t.jsxs)("div",{className:"user-ids",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("h3",{children:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7"}),(0,t.jsx)("a",{onClick:function(){V(!0)},children:"\u6DFB\u52A0\u7528\u6237"})]}),(0,t.jsx)("div",{className:"table-box",children:(0,t.jsx)(re.Z,{rowKey:function(n){return n.email},dataSource:y,columns:ze,pagination:!1},"yhlb")})]})})]}),(0,t.jsxs)(ye.Z,{title:"\u9879\u76EE\u7BA1\u7406\u5458\u8D26\u53F7",okText:"\u786E\u8BA4\u6DFB\u52A0\u6B64\u8D26\u53F7",width:600,open:Ce,onCancel:function(){V(!1)},onOk:Xe,children:[(0,t.jsx)(Fe,{placeholder:"input search email",value:Me,onChange:function(n){Ze(n.target.value)},enterButton:"\u67E5\u8BE2\u7528\u6237",size:"large",loading:Pe,onSearch:Qe}),v&&(0,t.jsxs)(U.Z,{title:"\u7528\u6237\u4FE1\u606F",children:[(0,t.jsx)(U.Z.Item,{label:"Nickname",children:v.nickname},"Nickname"),(0,t.jsx)(U.Z.Item,{label:"Email",children:v.email},"Email"),(0,t.jsx)(U.Z.Item,{label:"\u9879\u76EEID",children:v.projectId},"xmid")]})]})]})}}}]);
