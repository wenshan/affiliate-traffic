"use strict";(self.webpackChunkaffiliate_traffic=self.webpackChunkaffiliate_traffic||[]).push([[4137],{49495:function(V,g){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};g.Z=e},82061:function(V,g,e){var i=e(1413),t=e(67294),_=e(47046),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="DeleteOutlined",g.Z=t.forwardRef(v)},69753:function(V,g,e){var i=e(1413),t=e(67294),_=e(49495),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="DownloadOutlined",g.Z=t.forwardRef(v)},54734:function(V,g,e){var i=e(1413),t=e(67294),_=e(48898),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="FolderOpenOutlined",g.Z=t.forwardRef(v)},68658:function(V,g,e){var i=e(1413),t=e(67294),_=e(70478),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="MinusSquareOutlined",g.Z=t.forwardRef(v)},51042:function(V,g,e){var i=e(1413),t=e(67294),_=e(42110),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="PlusOutlined",g.Z=t.forwardRef(v)},30723:function(V,g,e){var i=e(1413),t=e(67294),_=e(43114),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="PlusSquareOutlined",g.Z=t.forwardRef(v)},59:function(V,g,e){var i=e(1413),t=e(67294),_=e(10952),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="RotateRightOutlined",g.Z=t.forwardRef(v)},41441:function(V,g,e){var i=e(1413),t=e(67294),_=e(39055),c=e(91146),v=function(j,u){return t.createElement(c.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:u,icon:_.Z}))};v.displayName="SwapOutlined",g.Z=t.forwardRef(v)},5966:function(V,g,e){var i=e(97685),t=e(1413),_=e(91),c=e(21770),v=e(59586),m=e(55241),j=e(97435),u=e(67294),r=e(68468),o=e(85893),d=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],T="text",M=function(C){var E=C.fieldProps,Z=C.proFieldProps,B=(0,_.Z)(C,d);return(0,o.jsx)(r.Z,(0,t.Z)({valueType:T,fieldProps:E,filedConfig:{valueType:T},proFieldProps:Z},B))},R=function(C){var E=(0,c.Z)(C.open||!1,{value:C.open,onChange:C.onOpenChange}),Z=(0,i.Z)(E,2),B=Z[0],le=Z[1];return(0,o.jsx)(v.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(S){var ne,oe=S.getFieldValue(C.name||[]);return(0,o.jsx)(m.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(L){return L&&L.parentNode?L.parentNode:L},onOpenChange:function(L){return le(L)},content:(0,o.jsxs)("div",{style:{padding:"4px 0"},children:[(ne=C.statusRender)===null||ne===void 0?void 0:ne.call(C,oe),C.strengthText?(0,o.jsx)("div",{style:{marginTop:10},children:(0,o.jsx)("span",{children:C.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},C.popoverProps),{},{open:B,children:C.children}))}})},q=function(C){var E=C.fieldProps,Z=C.proFieldProps,B=(0,_.Z)(C,h),le=(0,u.useState)(!1),$=(0,i.Z)(le,2),S=$[0],ne=$[1];return E!=null&&E.statusRender&&B.name?(0,o.jsx)(R,{name:B.name,statusRender:E==null?void 0:E.statusRender,popoverProps:E==null?void 0:E.popoverProps,strengthText:E==null?void 0:E.strengthText,open:S,onOpenChange:ne,children:(0,o.jsx)("div",{children:(0,o.jsx)(r.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,j.Z)(E,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(a){var L;E==null||(L=E.onBlur)===null||L===void 0||L.call(E,a),ne(!1)},onClick:function(a){var L;E==null||(L=E.onClick)===null||L===void 0||L.call(E,a),ne(!0)}}),proFieldProps:Z,filedConfig:{valueType:T}},B))})}):(0,o.jsx)(r.Z,(0,t.Z)({valueType:"password",fieldProps:E,proFieldProps:Z,filedConfig:{valueType:T}},B))},Q=M;Q.Password=q,Q.displayName="ProFormComponent",g.Z=Q},19436:function(V,g,e){var i=e(15009),t=e.n(i),_=e(99289),c=e.n(_),v=e(5574),m=e.n(v),j=e(1848),u=e(71230),r=e(15746),o=e(67294),d=e(85893),h={name:"",accountId:"",adultContent:0,createdAt:"",defaultState:!1,projectId:"",id:0,describe:"",image:"",kind:""},T=function(){var R=(0,o.useState)(h),q=m()(R,2),Q=q[0],X=q[1],C=function(){var E=c()(t()().mark(function Z(){var B;return t()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,j.Io)();case 2:B=$.sent,B&&B.status===200&&B.data&&X(B.data);case 4:case"end":return $.stop()}},Z)}));return function(){return E.apply(this,arguments)}}();return(0,o.useEffect)(function(){C()},[]),(0,d.jsx)(u.Z,{children:(0,d.jsx)(r.Z,{children:(0,d.jsxs)("p",{children:["\u5F53\u524D\u9879\u76EE\uFF1A","".concat(Q&&Q.name?Q.name:"\u65E0\u9879\u76EE")]})})})};g.Z=T},35404:function(V,g,e){e.r(g),e.d(g,{default:function(){return ca}});var i=e(15009),t=e.n(i),_=e(99289),c=e.n(_),v=e(5574),m=e.n(v),j=e(19436),u={setChannel:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"}],getTableChannel:{all:{text:"\u6240\u6709",status:"all"},limeetpet:{text:"limeetpet",status:"limeetpet"},community:{text:"community",status:"community"}}},r={setType:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}],getTableType:{all:{text:"\u6240\u6709",status:"all"},home:{text:"home",status:"home"},list:{text:"list",status:"list"},product:{text:"product",status:"product"},detail:{text:"detail",status:"detail"},other:{text:"other",status:"other"}}},o=e(14776),d=function(){var P=c()(t()().mark(function f(F){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,o.request)("/api/banner/create",{method:"POST",data:F,config:{isToast:!0}}));case 1:case"end":return O.stop()}},f)}));return function(F){return P.apply(this,arguments)}}(),h=function(){var P=c()(t()().mark(function f(F){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,o.request)("/api/banner/edit",{method:"POST",data:F}));case 1:case"end":return O.stop()}},f)}));return function(F){return P.apply(this,arguments)}}(),T=function(){var P=c()(t()().mark(function f(F){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,o.request)("/api/banner/del",{method:"POST",data:F}));case 1:case"end":return O.stop()}},f)}));return function(F){return P.apply(this,arguments)}}(),M=function(){var P=c()(t()().mark(function f(F){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,o.request)("/api/banner/query",{method:"POST",data:F}));case 1:case"end":return O.stop()}},f)}));return function(F){return P.apply(this,arguments)}}(),R=e(51042),q=e(90930),Q=e(87273),X=e(37476),C=e(34994),E=e(5966),Z=e(1413),B=e(91),le=e(22270),$=e(78045),S=e(67294),ne=e(90789),oe=e(68468),a=e(85893),L=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],Ne=S.forwardRef(function(P,f){var F=P.fieldProps,W=P.options,O=P.radioType,te=P.layout,G=P.proFieldProps,re=P.valueEnum,N=(0,B.Z)(P,L);return(0,a.jsx)(oe.Z,(0,Z.Z)((0,Z.Z)({valueType:O==="button"?"radioButton":"radio",ref:f,valueEnum:(0,le.h)(re,void 0)},N),{},{fieldProps:(0,Z.Z)({options:W,layout:te},F),proFieldProps:G,filedConfig:{customLightMode:!0}}))}),we=S.forwardRef(function(P,f){var F=P.fieldProps,W=P.children;return(0,a.jsx)($.ZP,(0,Z.Z)((0,Z.Z)({},F),{},{ref:f,children:W}))}),Ke=(0,ne.G)(we,{valuePropName:"checked",ignoreWidth:!0}),je=Ke;je.Group=Ne,je.Button=$.ZP.Button,je.displayName="ProFormComponent";var He=je,Ie=e(66758),Ve=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],$e=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],Ge=function(f,F){var W=f.fieldProps,O=f.children,te=f.params,G=f.proFieldProps,re=f.mode,N=f.valueEnum,U=f.request,ee=f.showSearch,ie=f.options,ae=(0,B.Z)(f,Ve),w=(0,S.useContext)(Ie.Z);return(0,a.jsx)(oe.Z,(0,Z.Z)((0,Z.Z)({valueEnum:(0,le.h)(N),request:U,params:te,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({options:ie,mode:re,showSearch:ee,getPopupContainer:w.getPopupContainer},W),ref:F,proFieldProps:G},ae),{},{children:O}))},ze=S.forwardRef(function(P,f){var F=P.fieldProps,W=P.children,O=P.params,te=P.proFieldProps,G=P.mode,re=P.valueEnum,N=P.request,U=P.options,ee=(0,B.Z)(P,$e),ie=(0,Z.Z)({options:U,mode:G||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},F),ae=(0,S.useContext)(Ie.Z);return(0,a.jsx)(oe.Z,(0,Z.Z)((0,Z.Z)({valueEnum:(0,le.h)(re),request:N,params:O,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Z.Z)({getPopupContainer:ae.getPopupContainer},ie),ref:f,proFieldProps:te},ee),{},{children:W}))}),Je=S.forwardRef(Ge),Qe=ze,Te=Je;Te.SearchSelect=Qe,Te.displayName="ProFormComponent";var Ze=Te,Xe=e(59586),me=e(2453),ye=e(17788),Le=e(83622),Ye={image_link:{des:"\u9009\u62E9\u5546\u54C1\u4E3B\u56FE\uFF08\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},additionalImageLinks:{des:"\u5546\u54C1\u9644\u52A0\u56FE\u7247\uFF08\u9009\u62E95\u5F20\u56FE\u7247\uFF09",limit:5},lifestyleImageLinks:{des:"\u6DFB\u52A0\u5546\u54C1\u8BE6\u60C5\uFF08\u6700\u591A\u9009\u62E920\u5F20\u56FE\u7247\uFF09",limit:20},banner:{des:"\u6DFB\u52A0\u5E7F\u544A\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1},other:{des:"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09",limit:1}},be=e(55195),qe=e(38057),he=e(67707),Ee=e(68658),Pe=e(30723),ea=e(82061),aa=e(59),na=e(41441),ta=e(69753),ra=e(54734),la=e(79607),sa=e(71230),Ue=e(15746),ua=function(f){var F=f.open,W=f.selectedType,O=f.callbackOk,te=f.callbackCancel,G=Ye[W],re=(0,S.useState)([]),N=m()(re,2),U=N[0],ee=N[1],ie=(0,S.useState)([]),ae=m()(ie,2),w=ae[0],Oe=ae[1],z=(0,S.useState)(G.limit||1),_e=m()(z,1),ve=_e[0],De=(0,S.useState)([]),Ce=m()(De,2),J=Ce[0],Me=Ce[1],xe=(0,S.useState)([]),se=m()(xe,2),ue=se[0],Se=se[1],Fe=function(){var I=c()(t()().mark(function p(){var n,l,s,D,x,H;return t()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return n=new Map,fe.next=3,(0,be.cH)();case 3:l=fe.sent,l.status===200&&l.data&&l.data.rows&&(s=l.data.rows,D=[],s&&s.length&&s.map(function(pe){pe.key!=="11111111"&&D.push(Object.assign({},pe,{title:pe.label,checked:!1})),n.set(pe.key,Object.assign({},pe,{checked:!1}))}),D.push(Object.assign({},s[1],{title:s[1]&&s[1].label,checked:!1})),x=(0,qe.Z)(D),H=x.rowsTree,ee(H),Me(H[0]));case 5:case"end":return fe.stop()}},p)}));return function(){return I.apply(this,arguments)}}(),ge=function(){var I=c()(t()().mark(function p(){var n,l;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(n=[],!J){D.next=8;break}return n.push(J.key),J.children&&J.children.length>0&&J.children.map(function(x){n.push(x.key),x.children&&x.children.length&&x.children.map(function(H){n.push(H.key),H.children&&H.children.length&&H.children.map(function(Y){n.push(Y.key)})})}),D.next=6,(0,be.Do)({key:n.join(",")});case 6:l=D.sent,l.status===200&&l.data&&J&&J.key&&(U.map(function(x,H){U[H]&&x&&Number(x.key)===Number(J.key)&&(U[H]=Object.assign({},x,{data:l.data}))}),ee(U),Oe(l.data.rows));case 8:case"end":return D.stop()}},p)}));return function(){return I.apply(this,arguments)}}(),Ae=function(){var I=c()(t()().mark(function p(n){var l;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,be.Qc)(n);case 2:l=D.sent,l.status===200&&l.data&&ge();case 4:case"end":return D.stop()}},p)}));return function(n){return I.apply(this,arguments)}}(),Re=function(){var I=c()(t()().mark(function p(n){var l;return t()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,be.Qc)(n);case 2:l=D.sent,l.status===200&&l.data&&ge();case 4:case"end":return D.stop()}},p)}));return function(n){return I.apply(this,arguments)}}();(0,S.useEffect)(function(){Fe()},[]),(0,S.useEffect)(function(){ge()},[J]);var ce=function(p){var n=[];U.map(function(l){l.key===p.key?n.push(Object.assign({},l,{active:!0})):n.push(Object.assign({},l,{active:!1}))}),Me(p),ee(n)},Be=function(){var p=[];return U&&U.length>0&&U[0]&&U.map(function(n,l){n.children?p.push((0,a.jsxs)("li",{className:"pad00",children:[(0,a.jsxs)("div",{title:n.label,className:"item ".concat(n.active?"active":""),onClick:function(){return ce(n)},children:[(0,a.jsx)("span",{className:"space"}),n.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}),he.Z.replaceExceedEnd(n.label,20)]},n.key),n.children&&n.children.length&&(0,a.jsx)("ul",{children:n.children.map(function(s,D){return(0,a.jsxs)("li",{className:"pad01",children:[(0,a.jsxs)("div",{title:s.label,className:"item ".concat(s.active?"active":""),onClick:function(){return ce(s)},children:[(0,a.jsx)("span",{className:"space"}),s.is_default===0?s.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}):null,he.Z.replaceExceedEnd(s.label,25)]}),s.children&&s.children.length&&(0,a.jsx)("ul",{children:s.children.map(function(x,H){return(0,a.jsxs)("li",{className:"pad02",children:[(0,a.jsxs)("div",{title:x.label,className:"item ".concat(x.active?"active":""),onClick:function(){return ce(x)},children:[(0,a.jsx)("span",{className:"space"}),x.is_default===0?x.is_leaf===1?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}):null,he.Z.replaceExceedEnd(x.label,20)]}),x.children&&x.children.length&&(0,a.jsx)("ul",{children:x.children.map(function(Y,fe){Y.label,"".concat(Y.active?"active":""),Y.is_default===0&&(Y.is_leaf===1?Ee.Z:Pe.Z),he.Z.replaceExceedEnd(Y.label,20),"".concat(Y.key,"_").concat(fe)})},"".concat(x.key,"_").concat(H,"_ul"))]},"".concat(x.key,"_").concat(H))})},"".concat(s.key,"_").concat(D,"_ul"))]},"".concat(s.key,"_").concat(D))})})]},"".concat(n.key,"_").concat(l))):p.push((0,a.jsx)("li",{className:"pad00",children:(0,a.jsxs)("div",{title:n.label,className:"item ".concat(n.active?"active":""),onClick:function(){return ce(n)},children:[(0,a.jsx)("span",{className:"space"}),n.is_leaf?(0,a.jsx)(Ee.Z,{}):(0,a.jsx)(Pe.Z,{}),he.Z.replaceExceedEnd(n.label,20)]},n.key)},"".concat(n.key,"_").concat(n.is_defaul)))}),p},ke=function(){te()},k=function(){ue&&ue[0]&&ue[0].url?O(ue):me.ZP.error("\u8BF7\u6DFB\u52A0\u56FE\u7247\u7D20\u6750")},y=function(){return G&&G.des||"\u6DFB\u52A0\u56FE\u7247\uFF08\u6700\u591A\u9009\u62E91\u5F20\u56FE\u7247\uFF09"},b=function(p){var n=[];if(ve===1?w.map(function(l,s){l.keys===p.keys?(w[s]=Object.assign({},l,{current:!0}),n.push(Object.assign({},l,{current:!0}))):w[s]=Object.assign({},l,{current:!1})}):w.map(function(l,s){l.keys===p.keys?p.current?w[s]=Object.assign({},l,{current:!1}):(w[s]=Object.assign({},l,{current:!0}),n.push(Object.assign({},l,{current:!0}))):l.current&&n.push(l)}),ve>1&&n&&n.length>ve)return me.ZP.success("\u5F53\u524D\u573A\u666F\u4E0B\u7D20\u6750\u4E00\u6B21\u64CD\u4F5C\u9650\u5236".concat(ve,"\u5F20\u7D20\u6750")),!1;Oe(w),Se(n)},K=function(p){p&&(p.status===1?ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5F7B\u5E95\u5220\u9664\u670D\u52A1\u6587\u4EF6\uFF0C\u8D44\u6E90\u5730\u5740\u5C06\u5931\u53BB\u8BBF\u95EE",onOk:function(){Ae(p)},onCancel:function(){console.log("Cancel")}}):ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u7D20\u6750",onOk:function(){Re(p)},onCancel:function(){console.log("Cancel")}}))},de=function(p){fetch(p.url).then(function(n){return n.blob()}).then(function(n){var l=URL.createObjectURL(new Blob([n])),s=document.createElement("a");s.href=l,s.download="image.png",document.body.appendChild(s),s.click(),URL.revokeObjectURL(l),s.remove()})},A=function(){var p=[];return w&&w.length&&w.map(function(n){p.push((0,a.jsx)("li",{className:"item",children:(0,a.jsxs)("div",{className:n&&n.current?"style current":"style",children:[(0,a.jsx)("div",{className:"checkbox_input",onClick:function(){return b(n)},children:(0,a.jsx)("span",{className:"checkbox_inner"})}),(0,a.jsx)("div",{className:"img-box",onClick:function(){return b(n)},children:(0,a.jsx)(la.Z,{width:160,src:n.url,preview:!1})}),(0,a.jsx)("div",{className:"line"}),(0,a.jsxs)("div",{className:"tool",children:[(0,a.jsx)(ea.Z,{onClick:function(){return K(n)}}),(0,a.jsx)(aa.Z,{}),(0,a.jsx)(na.Z,{}),(0,a.jsx)(ta.Z,{onClick:function(){return de(n)}})]}),(0,a.jsx)("div",{className:"line"}),(0,a.jsx)("div",{className:"title ellipsis",title:n.filename,onClick:function(){return b(n)},children:n.filename})]})},n.keys))}),p};return(0,a.jsx)("div",{className:"image-select-modal",children:(0,a.jsx)(ye.Z,{className:"wrap-select-modal",title:"\u9009\u62E9\u56FE\u7247\u7D20\u6750 ",open:F,width:1200,onOk:k,zIndex:999,onCancel:ke,children:(0,a.jsx)("div",{className:"content",children:(0,a.jsxs)(sa.Z,{children:[(0,a.jsx)(Ue.Z,{span:5,children:(0,a.jsxs)("div",{className:"folder-menu",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(ra.Z,{})," \u6587\u4EF6\u76EE\u5F55"]}),(0,a.jsx)("div",{className:"menu-wrap",children:(0,a.jsx)("ul",{children:U&&Be()})})]})}),(0,a.jsxs)(Ue.Z,{span:19,children:[(0,a.jsx)("div",{className:"sub-title",children:y()}),(0,a.jsx)("div",{className:"imglist-modal",children:(0,a.jsx)("div",{className:"imglist",children:(0,a.jsx)("div",{className:"content",children:(0,a.jsx)("div",{className:"list-owflow",children:(0,a.jsx)("ul",{className:"list-ul",children:A()})})})})})]})]})})})})},oa=ua,We={language:"",name:"",src:"",url:"",type:"",is_show:1,remark:"",channel:""},ia=function(){var f=Xe.Z.useForm(),F=m()(f,1),W=F[0],O=(0,S.useRef)(),te=(0,S.useState)(!1),G=m()(te,2),re=G[0],N=G[1],U=(0,S.useState)(!1),ee=m()(U,2),ie=ee[0],ae=ee[1],w=(0,S.useState)(We),Oe=m()(w,2),z=Oe[0],_e=Oe[1],ve=(0,S.useState)(0),De=m()(ve,2),Ce=De[0],J=De[1],Me=(0,S.useState)(0),xe=m()(Me,2),se=xe[0],ue=xe[1],Se=function(){ae(!1)},Fe=function(y){var b=Object.assign({},z,{src:y[0].url});_e(b),ae(!1)},ge=function(){var k=c()(t()().mark(function y(b){var K;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(b&&b.name&&b.url&&b.type&&b.channel&&b.src)){A.next=16;break}if(!(se<2)){A.next=13;break}if(se!==0){A.next=6;break}return A.next=5,d(b);case 5:K=A.sent;case 6:if(se!==1){A.next=10;break}return A.next=9,h(b);case 9:K=A.sent;case 10:K&&K.status===200&&K.data&&(N(!1),J(new Date().getTime()),me.ZP.success("\u63D0\u4EA4\u6210\u529F")),A.next=14;break;case 13:N(!1);case 14:A.next=17;break;case 16:me.ZP.success("\u7F3A\u5C11\u5FC5\u8981\u53C2\u6570");case 17:case"end":return A.stop()}},y)}));return function(b){return k.apply(this,arguments)}}(),Ae=function(y){ue(1),_e(y),N(!0)},Re=function(y){ue(2),_e(y),N(!0)},ce=function(){var k=c()(t()().mark(function y(b){return t()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:b&&b.id&&ye.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u5220\u9664\u5F53\u524D\u7684\u5E7F\u544ABanner",onOk:function(){var A=c()(t()().mark(function p(){var n;return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,T({id:b.id});case 2:n=s.sent,n&&n.status===200&&(J(new Date().getTime()),me.ZP.success("\u5220\u9664\u6210\u529F"));case 4:case"end":return s.stop()}},p)}));function I(){return A.apply(this,arguments)}return I}(),onCancel:function(){console.log("Cancel")}});case 1:case"end":return de.stop()}},y)}));return function(b){return k.apply(this,arguments)}}(),Be=[{title:"ID",dataIndex:"id",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u540D\u79F0",dataIndex:"name",hideInForm:!0,hideInSearch:!0,hideInTable:!1},{title:"\u8BED\u8A00",dataIndex:"language",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},"en-US":{text:"English",status:"en-US"},"ja-JP":{text:"Japanese",status:"ja-JP"},"zh-CN":{text:"\u4E2D\u6587(\u7B80\u4F53)",status:"zh-CN"}}},{title:"URL",dataIndex:"url",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u901A\u9053",dataIndex:"channel",valueType:"select",initialValue:"all",valueEnum:u.getTableChannel},{title:"\u7C7B\u578B",dataIndex:"type",valueType:"select",initialValue:"all",valueEnum:r.getTableType},{title:"\u5C55\u793A\u72B6\u6001",dataIndex:"is_show",valueType:"select",initialValue:"all",valueEnum:{all:{text:"\u6240\u6709",status:"all"},1:{text:"\u662F",status:"1"},0:{text:"\u5426",status:"0"}}},{title:"\u5907\u6CE8",dataIndex:"remark",hideInForm:!0,hideInSearch:!0,hideInTable:!1,ellipsis:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",valueType:"dateRange",hideInForm:!0,hideInSearch:!0,hideInTable:!1,search:{transform:function(y){return{startTime:y[0],endTime:y[1]}}},render:function(y,b){return b.createdAt}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(y,b){return[(0,a.jsx)("a",{onClick:function(){Ae(b)},children:"\u7F16\u8F91"},"edit"),(0,a.jsx)("a",{onClick:function(){Re(b)},children:"\u67E5\u770B"},"view"),(0,a.jsx)("a",{onClick:function(){ce(b)},children:"\u5220\u9664"},"del")]}}],ke=function(){var y;switch(se){case 0:y="\u521B\u5EFA\u5E7F\u544ABanner";break;case 1:y="\u7F16\u8F91\u5E7F\u544ABanner";break;case 2:y="\u67E5\u770B\u5E7F\u544ABanner";break;default:y="\u521B\u5EFA\u5E7F\u544ABanner"}return y};return(0,a.jsxs)(q._z,{children:[(0,a.jsx)(j.Z,{}),(0,a.jsx)(Q.Z,{tableClassName:"page-table",headerTitle:"\u6570\u636E\u8868",actionRef:O,rowKey:"key",params:Ce,search:{labelWidth:120},request:M,columns:Be,toolBarRender:function(){return[(0,a.jsx)(Le.ZP,{icon:(0,a.jsx)(R.Z,{}),onClick:function(){ue(0),_e(We),N(!0)},type:"primary",children:"\u65B0\u5EFA"},"button")]}}),(0,a.jsxs)(X.Y,{open:re,title:ke(),form:W,readonly:se===2,autoFocusFirstInput:!0,modalProps:{zIndex:99,destroyOnClose:!0,onCancel:function(){return N(!1)}},submitTimeout:2e3,onFinish:function(){var k=c()(t()().mark(function y(b){var K;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return K=Object.assign({},z,b),ge(K),A.abrupt("return",!0);case 3:case"end":return A.stop()}},y)}));return function(y){return k.apply(this,arguments)}}(),children:[(0,a.jsxs)(C.A.Group,{children:[(0,a.jsx)(E.Z,{rules:[{required:!0}],width:"md",name:"name",label:"Banner \u540D\u79F0",tooltip:"\u6700\u957F\u4E3A 24 \u4F4D",placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",initialValue:z.name}),(0,a.jsx)(He.Group,{width:"md",rules:[{required:!0}],label:"\u662F\u5426\u5C55\u793A",name:"is_show",initialValue:z.is_show,options:[{label:"\u662F",value:1},{label:"\u5426",value:0}]})]}),(0,a.jsxs)("div",{className:"img-box-modal-form",children:[(0,a.jsx)("div",{className:"header",children:(0,a.jsxs)("div",{className:"title",children:[(0,a.jsx)("i",{children:"*"}),"\u56FE\u7247"]})}),(0,a.jsxs)("div",{className:"view-box clearfix",children:[(0,a.jsx)("div",{className:"view",children:(0,a.jsx)("img",{src:z.src})}),(0,a.jsx)(Le.ZP,{className:"button",type:"primary",size:"small",onClick:function(){ae(!0)},children:"\u9009\u62E9\u56FE\u7247"})]})]}),(0,a.jsxs)(C.A.Group,{children:[(0,a.jsx)(E.Z,{rules:[{required:!0}],width:"md",name:"url",label:"\u94FE\u63A5\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",initialValue:z.url}),(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"language",label:"\u9009\u62E9\u5BF9\u5E94\u7684\u8BED\u8A00",initialValue:z.language,options:[{label:"English",value:"en-US"},{label:"Japanese",value:"ja-JP"},{label:"\u4E2D\u6587(\u7B80\u4F53)",value:"zh-CN"}]})]}),(0,a.jsxs)(C.A.Group,{children:[(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"type",label:"\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",placeholder:"\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u4F4D\u7F6E",initialValue:z.type,options:[{value:"home",label:"home"},{value:"list",label:"list"},{value:"product",label:"product"},{value:"detail",label:"detail"},{value:"other",label:"other"}]}),(0,a.jsx)(Ze,{rules:[{required:!0}],width:"md",name:"channel",label:"\u5E7F\u544A\u5C55\u793A\u901A\u9053",placeholder:"\u8BF7\u9009\u62E9\u5E7F\u544A\u5C55\u793A\u901A\u9053",initialValue:z.channel,options:[{value:"limeetpet",label:"limeetpet"},{value:"community",label:"community"},{value:"qbs-tools",label:"qbs-tools"}]})]}),(0,a.jsx)(C.A.Group,{children:(0,a.jsx)(E.Z,{width:"md",name:"remark",label:"\u5907\u6CE8",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",initialValue:z.remark})})]}),(0,a.jsx)(oa,{open:ie,callbackCancel:Se,callbackOk:Fe,selectedType:"banner"})]})},ca=ia},38057:function(V,g){g.Z=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{key:"",father_key:""},t=JSON.parse(JSON.stringify(e)),_=new Map,c=[],v=[],m=[];if(t.forEach(function(d){var h=Object.assign({},d,{active:0});_.set(d.key,h)}),i&&i.key){if(m.push(i.key),i.father_key){var j=_.get(i.father_key);if(j&&(m.push(j.key),j.father_key)){var u=_.get(j.father_key);if(m.push(u.key),u.father_key){var r=_.get(u.father_key);if(m.push(r.key),r.father_key){var o=_.get(u.father_key);m.push(o.key)}}}}m.forEach(function(d){var h=_.get(d);if(h){var T=Object.assign({},h,{active:1});_.set(d,T)}})}return _.forEach(function(d){if(v.push(Object.assign({},d)),d.father_key){var h=_.get(d.father_key);h&&(h.children||(h.children=[]),h.children.push(d))}else c.push(d)}),{rowsTree:c,rowsList:v}}},67707:function(V,g,e){var i=e(9783),t=e.n(i),_=e(52677),c=e.n(_),v=e(5574),m=e.n(v),j=t()(t()({isEmptyObject:function(r){var o;for(o in r)if(r[o])return!1;return!0},trim:function(r){return r.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(r){return r&&Object.prototype.toString.call(r)==="[object Array]"},replaceExceedEnd:function(r){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"...",h=0,T,M=0;M<(r&&r.length);M++){var R=r.charCodeAt(M);if(R>=19968&&R<=40959?h+=2:h+=1,h>o){T=M;break}}return T&&(r="".concat(r.slice(0,T),"...")),r},uuid:function(){for(var r=[],o="0123456789abcdef",d=0;d<36;d++)r[d]=o.substr(Math.floor(Math.random()*16),1);r[14]="4",r[19]=o.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="-";var h=r.join("");return h},objectToString:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&";if(!r)return!1;var d=o||"&",h="";return Object.keys(r).forEach(function(T,M){h+="".concat(M===0?"":d).concat(T,"=").concat(r[T])}),h},checkPhone:function(r){return!!/^1[34578]\d{9}$/.test(r)},formatPrice:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(typeof r!="number"||Number.isNaN(r))return"\uFFE50.00";var d=parseInt(r,10);if(o===0)return"\uFFE5".concat(Math.floor(d/100));var h=d/100,T=Math.round(h*100)/100,M=T.toString(),R=M.indexOf(".");return R<0&&(R=M.length,M+="."),M.length<=R+parseInt(o,10)&&(M+="00"),"\uFFE5".concat(M)},isWeiXin:function(){var r=window.navigator.userAgent.toLowerCase();return r.match(/MicroMessenger/i)=="micromessenger"},isMobile:function(){var r=navigator.userAgent;return!!(r.match(/AppleWebKit.*Mobile.*/)||r.indexOf("iPad")>-1)},getSearchObject:function(r){r=r||window.location.search;for(var o=r.replace("?","").split("&"),d={},h=0;h<o.length;h++){var T=o[h].split("="),M=m()(T,2),R=M[0],q=M[1];d[R]||(d[R]=q)}return d},formatDete:function(r){var o=new Date(r),d=o.toLocaleString(),h=String(o),T=d.split(" "),M="",R=T[0].split("/");R=R.map(function(X){return X<10&&(X="0".concat(X)),X});var q=R.join("-"),Q=h.split(" ")[4];return M="".concat(q,"   ").concat(Q),M}},"isArray",function(r){return Object.prototype.toString.call(r)==="[object Array]"}),"isNonEmptyObject",function(r){return r!==null&&c()(r)==="object"&&!Array.isArray(r)&&Object.keys(r).length>0});g.Z=j}}]);
